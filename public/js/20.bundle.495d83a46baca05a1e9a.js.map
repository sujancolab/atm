{"version":3,"sources":["webpack:///resources/js/components/Reports/CombinedExpenseReport.vue","webpack:///./resources/js/components/Reports/CombinedExpenseReport.vue","webpack:///./resources/js/components/Reports/CombinedExpenseReport.vue?64f7"],"names":["name","components","MonthPicker","MonthPickerInput","data","sub_tickets","sub_index","pmModalData","created_users","search_machines","search_sites","search_tickets","search","page","machine_id","site_id","category_id","sub_category_id","date_from","date_to","report_type","categories","sub_categories","sites","selected_machine","users","machines","Tickets","clearEmittedText","default_month","json_fields","json_site_fields","json_meta","key","value","methods","arr","axios","then","catch","console","showClearText","window","get","params","reset_filter","monthYear","UpdateValues","startDownload","Swal","title","html","allowOutsideClick","onBeforeOpen","finishDownload","getLabel","getResults","created","beforeCreate","watch","handler","deep","initial","Component","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","$event","preventDefault","directives","rawName","expression","domProps","_q","$set","option","id","model","callback","$$v","export_csv","records","_s","staticStyle","_l","ticket","xx","class","row_color","site_name","far_no","get_tickets","total_tickets","total_Breakdown","total_Periodic","total_major","total_minor","_f","material_expenses","service_expenses","item","ix","machine","site","ticket_no","actual_date","actual_material_cost","it","c","file","actual_service_cost","ticket_type","_e","red","complaint_nature","status","tat"],"mappings":"qHAyNe,GACfA,wBACAC,YACAC,gBACAC,sBAEAC,UACA,CACAC,eACAC,aACAC,eACAC,iBACAC,mBACAC,gBACAC,kBACAC,QACAC,OACAC,cACAC,WACAC,eACAC,mBACAC,aACAC,WACAC,4BAEAC,cACAC,kBACAC,SACAC,oBACAC,SACAC,YACAC,WACAC,oBACAC,iBACAC,aACA,sBACA,kBACA,+BACA,4BACA,4BACA,oBACA,oBACA,+CACA,6CACA,mCAEAC,kBACA,wBACA,oBACA,+BACA,4BACA,4BACA,oBACA,oBACA,+CACA,6CACA,mCAEAC,WACA,CACA,CACAC,cACAC,mBAMAC,SACA,uBACA,oBACA,SAEAC,oCACAA,8BACAA,sCACAA,8CACAA,kCACAA,8BACAA,sCAEA,0CACAA,mBAEA,uCACAA,gBAEAC,mCACAC,SACA,+BAEAC,UACAC,oBAGAC,gBACA,gCACA,sBACAC,uBACA,4BACA,MAEA,oBACAL,MACAM,6BACAC,QACA7B,4BACAC,oCACAC,+CAGAqB,SACA,mCAEAC,qDAEAM,eACA,aACAhC,OACAC,cACAC,WACAC,eACAC,mBACA6B,aACA1B,4BAEA,mBAEA2B,gBACA,gCACA,+BAGA,mBACA,yGACA,oDAEA,OADA,kGACA,aAEAC,gBACAC,WACAC,sBACAC,uBACAC,qBACAC,kBACAJ,uBAIAK,iBACAL,cAGAM,YACA,mBACA,sBAEA,EAGAC,gBACA,uBACA,oBACA,kBACA,mBAEAnB,uCACAC,SACA,2BAEAC,UACAC,mBAEA,0BAIAiB,UACA,mBAEAC,eACArB,0CACA,qCACA,+BAEAA,MACAM,2BACAL,SACA,+BACA,mCACA,0CACA,oCACA,+CAEAC,qDAEAoB,OACA,mCACA,GACA,oBAGA,2BACA,GACA,oBAIA,sBACAC,sBACA,IACAvB,sCACA,kCAEA,qBAGAwB,QACAC,c,YCraIC,EAAY,YACd,GCfW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,WAAW,CAACF,EAAG,MA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","file":"js/20.bundle.495d83a46baca05a1e9a.js","sourcesContent":["<template>\r\n    <section class=\"content\">\r\n        <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header\">\r\n                            <h3 class=\"card-title\">Combined Expense Expenses Report</h3>\r\n                            <div class=\"card-tools\"></div>\r\n                        </div>\r\n\r\n                        <div class=\"card-body p-2\">\r\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"col col-2\">\r\n                                        <div class=\"form-check\">\r\n                                            <label class=\"form-check-label\">\r\n                                                <input type=\"radio\" class=\"form-check-input\" name=\"optradio\"\r\n                                                    v-model=\"search.report_type\" value=\"site wise\">Site Wise\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class=\"form-check\">\r\n                                            <label class=\"form-check-label\">\r\n                                                <input type=\"radio\" class=\"form-check-input\" name=\"optradio\"\r\n                                                    v-model=\"search.report_type\" value=\"machine wise\">Machine Wise\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col col-2\">\r\n                                        <v-select label=\"site_name\" :reduce=\"(option) => option.id\" :options=\"search_sites\"\r\n                                            placeholder=\"Select Site...\" v-model=\"search.site_id\" name=\"site_id\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-2 \">\r\n                                        <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_from\"\r\n                                            input-class=\"form-control\" placeholder=\"Created from date\" />\r\n                                    </div>\r\n                                    <div class=\"col col-2 \">\r\n                                        <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_to\"\r\n                                            input-class=\"form-control\" placeholder=\"Created to date\" />\r\n                                    </div>\r\n\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"categories\"\r\n                                            placeholder=\"Choose Category ...\" v-model=\"search.category_id\">\\\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"sub_categories\"\r\n                                            placeholder=\"Choose description ...\" v-model=\"search.sub_category_id\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-2\">\r\n                                        <v-select label=\"name\" :get-option-label=\"getLabel\" :reduce=\"(option) => option.id\"\r\n                                            :options=\"search_machines\" placeholder=\"Enter machines ...\"\r\n                                            v-model=\"search.machine_id\" name=\"machine_id\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <!--\r\n                                    <div class=\"col col-2\">\r\n                                        <v-select label=\"ticket_no\" :reduce=\"(option) => option.id\"\r\n                                            :options=\"search_tickets\" placeholder=\"Enter ticket ...\"\r\n                                            v-model=\"search.ticket_id\" name=\"ticket_id\">\r\n                                        </v-select>\r\n                                    </div> -->\r\n\r\n\r\n                                    <div class=\"col \">\r\n                                        <button type=\"submit\" class=\"btn btn-success\">\r\n                                            Search\r\n                                        </button>\r\n                                        <button type=\"button\" class=\"btn btn-info ml-2\" @click=\"reset_filter()\">\r\n                                            Reset\r\n                                        </button>\r\n                                        <download-excel class=\"btn btn-warning ml-2\"\r\n                                            v-if=\"search.report_type == 'machine wise'\" :fetch=\"export_csv\"\r\n                                            :fields=\"json_fields\" :before-generate=\"startDownload\"\r\n                                            :before-finish=\"finishDownload\" worksheet=\"My Worksheet\" type=\"csv\"\r\n                                            name=\"machine_expenses.csv\">\r\n                                            <span class=\"labelText\">\r\n                                                <i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i>\r\n                                                Export as CSV</span>\r\n                                        </download-excel>\r\n\r\n                                        <download-excel v-else class=\"btn btn-warning ml-2\" :fetch=\"export_csv\"\r\n                                            :fields=\"json_site_fields\" :before-generate=\"startDownload\"\r\n                                            :before-finish=\"finishDownload\" worksheet=\"My Worksheet\" type=\"csv\"\r\n                                            name=\"site_expenses.csv\">\r\n                                            <span class=\"labelText\">\r\n                                                <i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i>\r\n                                                Export as CSV</span>\r\n                                        </download-excel>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <!-- /.card-header -->\r\n                        <div class=\"card-body table-responsive p-0 ticketTable\">\r\n                            <table class=\"table table-hover table-striped\" v-if=\"Tickets && Tickets.records\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>{{ search.report_type == 'machine wise' ? 'Machine Name' : 'Site Name' }}</th>\r\n                                        <th>{{ search.report_type == 'machine wise' ? 'FAR No' : 'Site ID' }}</th>\r\n                                        <th>No of Ticket</th>\r\n                                        <th>Breakdown </th>\r\n                                        <th>Preventive</th>\r\n                                        <th>Major</th>\r\n                                        <th>Minor</th>\r\n                                        <th style=\"text-align: right;\">Material Expenses </th>\r\n                                        <th style=\"text-align: right;\">Service Expenses</th>\r\n                                        <th style=\"text-align: right;\">Total Expenses</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <template v-for=\"(ticket,xx) in Tickets.records.data\">\r\n                                        <tr :key=\"ticket.id\" :class=\"ticket.row_color\">\r\n                                            <td> {{ search.report_type == 'machine wise' ? ticket.name : ticket.site_name }}\r\n                                            </td>\r\n                                            <td> {{ search.report_type == 'machine wise' ? ticket.far_no : ticket.site_id }}\r\n                                                <span class=\"pl-2\" style=\"float: right;\"\r\n                                                    @click=\"get_tickets(ticket,xx);sub_index=(xx+1)\"><i class=\"fa fa-plus bg-dark\"></i></span>\r\n                                            </td>\r\n                                            <td align=\"center\">{{ ticket.total_tickets }}</td>\r\n                                            <td align=\"center\">{{ ticket.total_Breakdown }}</td>\r\n                                            <td align=\"center\">{{ ticket.total_Periodic }}</td>\r\n                                            <td align=\"center\">{{ ticket.total_major }}</td>\r\n                                            <td align=\"center\">{{ ticket.total_minor }}</td>\r\n                                            <td align=\"right\">{{ ticket.material_expenses | toCurrency }}</td>\r\n                                            <td align=\"right\">{{ ticket.service_expenses | toCurrency }}</td>\r\n                                            <td align=\"right\">{{ (ticket.total_expenses) | toCurrency }}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if=\"sub_tickets && (sub_index==xx+1)\" :key=\"'sk' + ticket.id\">\r\n                                            <td colspan=\"10\" align=\"center\">\r\n                                                <table>\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Machine Name</th>\r\n                                                            <th> {{ search.report_type == 'machine wise' ? 'Site Name' :'FAR No' }} </th>\r\n                                                            <th>Ticket No</th>\r\n                                                            <th>DOM</th>\r\n                                                            <th>Material Expenses </th>\r\n                                                            <th>Material PO</th>\r\n                                                            <th>Service Expenses</th>\r\n                                                            <th>Service PO</th>\r\n                                                            <th>Total Expenses</th>\r\n                                                            <th>Type</th>\r\n                                                            <th>Fault</th>\r\n                                                            <th>TAT</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <tr :key=\"ticket.id + '-' + ix\" v-for=\"(item, ix) in sub_tickets\"\r\n                                                            v-if=\"sub_tickets\">\r\n                                                            <td> {{ item.machine.name   }}\r\n                                                            </td>\r\n                                                            <td> {{ search.report_type == 'machine wise' ? item.site.site_name : item.machine.far_no}}\r\n                                                            </td>\r\n                                                            <td>{{ item.ticket_no }}</td>\r\n                                                            <td>{{ item.actual_date|myDate }}</td>\r\n                                                            <td align=\"right\">{{ item.actual_material_cost | toCurrency }}</td>\r\n                                                            <td align=\"center\">\r\n                                                                <a :href=\"it.file\" target=\"_blank\" v-for=\"(it,c) in item.actual_estimated_material_files\"><i class=\"fa fa-file-pdf\" aria-hidden=\"true\" style=\"color:red\"></i> &nbsp;</a>\r\n                                                            </td>\r\n                                                            <td align=\"right\">{{ item.actual_service_cost | toCurrency }}</td>\r\n                                                            <td align=\"center\">\r\n                                                                <a :href=\"it.file\" target=\"_blank\" v-for=\"(it,c) in item.actual_estimated_service_files\"><i class=\"fa fa-file-pdf\" aria-hidden=\"true\" style=\"color:red\"></i> &nbsp;</a>\r\n                                                            </td>\r\n                                                            <td align=\"right\">{{ (item.actual_material_cost + item.actual_service_cost) |\r\n                                                                toCurrency }}</td>\r\n                                                                <td>\r\n                                                                <span v-if=\"item.ticket_type =='Breakdown Maintenance'\" class=\"red\">Breakdown</span>\r\n                                                                <span v-if=\"item.ticket_type =='Periodic Maintenance'\">Preventive</span>\r\n                                                                </td>\r\n                                                                <td><span :class=\"{red:item.complaint_nature=='Major'}\">{{ item.complaint_nature }}</span></td>\r\n                                                                <td>\r\n                                                                    {{ item.status=='Closed' ? item.tat:'-' }}\r\n                                                                </td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </template>\r\n\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr class=\"table-dark\">\r\n                                        <td colspan=\"7\"><strong>Total</strong></td>\r\n                                        <td align=\"right\"><span v-if=\"Tickets && Tickets.actual_material_cost\">{{\r\n                                            Tickets.actual_material_cost | toCurrency }}</span></td>\r\n                                        <td align=\"right\"><span v-if=\"Tickets && Tickets.actual_service_cost\">{{\r\n                                            Tickets.actual_service_cost | toCurrency }}</span></td>\r\n                                        <td align=\"right\">{{ (Tickets.actual_material_cost + Tickets.actual_service_cost) | toCurrency }}\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                        <!-- /.card-body -->\r\n                        <div class=\"card-footer\" v-if=\"Tickets && Tickets.records\">\r\n                            <pagination :data=\"Tickets.records\" @pagination-change-page=\"getResults\"></pagination>\r\n                        </div>\r\n                    </div>\r\n                    <!-- /.card -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport { MonthPicker } from 'vue-month-picker'\r\nimport { MonthPickerInput } from 'vue-month-picker'\r\nexport default {\r\n    name: \"CombinedExpenses\",\r\n    components: {\r\n        MonthPicker,\r\n        MonthPickerInput\r\n    },\r\n    data() {\r\n        return {\r\n            sub_tickets:'',\r\n            sub_index:'',\r\n            pmModalData: \"\",\r\n            created_users: [],\r\n            search_machines: [],\r\n            search_sites: [],\r\n            search_tickets: [],\r\n            search: {\r\n                page: 1,\r\n                machine_id: \"\",\r\n                site_id: \"\",\r\n                category_id: \"\",\r\n                sub_category_id: \"\",\r\n                date_from: \"\",\r\n                date_to: \"\",\r\n                report_type: \"machine wise\",\r\n            },\r\n            categories: [],\r\n            sub_categories: [],\r\n            sites: [],\r\n            selected_machine: \"\",\r\n            users: [],\r\n            machines: [],\r\n            Tickets: {},\r\n            clearEmittedText: '',\r\n            default_month: '',\r\n            json_fields: {\r\n                \"Machine Name\": \"name\",\r\n                \"FAR No\": \"far_no\",\r\n                \"No of Ticket\":\"total_tickets\" ,\r\n                \"Breakdown\":\"total_Breakdown\" ,\r\n                \"Preventive\":\"total_Periodic\" ,\r\n                \"Major\" :\"total_major\",\r\n                \"Minor\":\"total_minor\",\r\n                \"Actual Material Expenses\": \"material_expenses\",\r\n                \"Actual Service Expenses\": \"service_expenses\",\r\n                \"Total Expenses\": \"total_expenses\",\r\n            },\r\n            json_site_fields: {\r\n                \"Site Name\": \"site_name\",\r\n                \"Site ID\": \"site_id\",\r\n                \"No of Ticket\":\"total_tickets\" ,\r\n                \"Breakdown\":\"total_Breakdown\" ,\r\n                \"Preventive\":\"total_Periodic\" ,\r\n                \"Major\" :\"total_major\",\r\n                \"Minor\":\"total_minor\",\r\n                \"Actual Material Expenses\": \"material_expenses\",\r\n                \"Actual Service Expenses\": \"service_expenses\",\r\n                \"Total Expenses\": \"total_expenses\",\r\n            },\r\n            json_meta: [\r\n                [\r\n                    {\r\n                        key: \"charset\",\r\n                        value: \"utf-8\",\r\n                    },\r\n                ],\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        async get_tickets(ticket,x) {\r\n            this.sub_tickets =''\r\n            let arr = {}\r\n\r\n            arr.machine_id=this.search.machine_id,\r\n            arr.site_id=this.search.site_id\r\n            arr.category_id=this.search.category_id\r\n            arr.sub_category_id=this.search.sub_category_id\r\n            arr.date_from=this.search.date_from\r\n            arr.date_to=this.search.date_to\r\n            arr.report_type=this.search.report_type\r\n\r\n            if (this.search.report_type == 'machine wise') {\r\n                arr.machine_id = ticket.id\r\n            }\r\n            if (this.search.report_type == 'site wise') {\r\n                arr.site_id = ticket.id\r\n            }\r\n            axios.post(\"/api/reports_child\", arr)\r\n                .then(res => {\r\n                   this.sub_tickets = res.data.data\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                })\r\n        },\r\n        showClearText() {\r\n            this.clearEmittedText = 'emitted'\r\n            this.default_month = ''\r\n            window.setTimeout(() => {\r\n                this.clearEmittedText = null\r\n            }, 1000)\r\n        },\r\n        async get_machine() {\r\n            axios\r\n                .get(\"/api/reports/machines\", {\r\n                    params: {\r\n                        site_id: this.search.site_id,\r\n                        category_id: this.search.category_id,\r\n                        sub_category_id: this.search.sub_category_id,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    this.search_machines = response.data.data;\r\n                })\r\n                .catch(() => console.warn(\"Oh. Something went wrong\"));\r\n        },\r\n        reset_filter() {\r\n            this.search = {\r\n                page: 1,\r\n                machine_id: \"\",\r\n                site_id: \"\",\r\n                category_id: \"\",\r\n                sub_category_id: \"\",\r\n                monthYear: \"\",\r\n                report_type: \"machine wise\",\r\n            };\r\n            this.getResults();\r\n        },\r\n        UpdateValues(e) {\r\n            this.search.tat_from = e.minValue;\r\n            this.search.tat_to = e.maxValue;\r\n        },\r\n        // excel\r\n        async export_csv() {\r\n            this.search.report_type = this.search.report_type == 'machine wise' ? 'machine wise export' : 'site wise export'\r\n            const response = await axios.post(\"api/reports\", this.search);\r\n            this.search.report_type = this.search.report_type == 'machine wise export' ? 'machine wise' : 'site wise'\r\n            return response.data.data;\r\n        },\r\n        startDownload() {\r\n            Swal.fire({\r\n                title: \"Please Wait !\",\r\n                html: \"Data populating\",\r\n                allowOutsideClick: false,\r\n                onBeforeOpen: () => {\r\n                    Swal.showLoading();\r\n                },\r\n            });\r\n        },\r\n        finishDownload() {\r\n            Swal.close();\r\n        },\r\n\r\n        getLabel(val) {\r\n            if (typeof val === \"object\") {\r\n                return val.far_no + \" - \" + val.name;\r\n            } else {\r\n                return val;\r\n            }\r\n        },\r\n        getResults(page = 1) {\r\n            this.$Progress.start();\r\n            this.sub_tickets=''\r\n            this.sub_index=''\r\n            this.search.page = page;\r\n\r\n            axios.post(\"/api/reports\", this.search)\r\n                .then(res => {\r\n                    this.Tickets = res.data.data\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                })\r\n            this.$Progress.finish();\r\n        },\r\n\r\n    },\r\n    created() {\r\n        this.getResults();\r\n    },\r\n    beforeCreate() {\r\n        axios.get(\"api/get_pre_machine\").then((res) => {\r\n            this.categories = res.data.data.Category;\r\n            this.sites = res.data.data.sites;\r\n        });\r\n        axios\r\n            .get(\"/api/initial_ticket\")\r\n            .then((response) => {\r\n                this.users = response.data.data.vendors;\r\n                this.machines = response.data.data.machines;\r\n                this.search_machines = response.data.data.machines;\r\n                this.search_sites = response.data.data.sites;\r\n                this.created_users = response.data.data.created_users;\r\n            })\r\n            .catch(() => console.warn(\"Oh. Something went wrong\"));\r\n    },\r\n    watch: {\r\n        async \"search.sub_category_id\"(n, o) {\r\n            if (n) {\r\n                this.get_machine();\r\n            }\r\n        },\r\n        async \"search.site_id\"(n, o) {\r\n            if (n) {\r\n                this.get_machine();\r\n            }\r\n        },\r\n\r\n        \"search.category_id\": {\r\n            handler: function (n, o) {\r\n                if (n) {\r\n                    axios.get(\"api/category/\" + n).then((res) => {\r\n                        this.sub_categories = res.data.data;\r\n                    });\r\n                    this.get_machine();\r\n                }\r\n            },\r\n            deep: true,\r\n            initial: true,\r\n        },\r\n    },\r\n\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CombinedExpenseReport.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CombinedExpenseReport.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5cfc8e0e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CombinedExpenseReport.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-2\"},[_c('div',{staticClass:\"form-check\"},[_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search.report_type),expression:\"search.report_type\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"optradio\",\"value\":\"site wise\"},domProps:{\"checked\":_vm._q(_vm.search.report_type,\"site wise\")},on:{\"change\":function($event){return _vm.$set(_vm.search, \"report_type\", \"site wise\")}}}),_vm._v(\"Site Wise\\n                                        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search.report_type),expression:\"search.report_type\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"optradio\",\"value\":\"machine wise\"},domProps:{\"checked\":_vm._q(_vm.search.report_type,\"machine wise\")},on:{\"change\":function($event){return _vm.$set(_vm.search, \"report_type\", \"machine wise\")}}}),_vm._v(\"Machine Wise\\n                                        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created from date\"},model:{value:(_vm.search.date_from),callback:function ($$v) {_vm.$set(_vm.search, \"date_from\", $$v)},expression:\"search.date_from\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created to date\"},model:{value:(_vm.search.date_to),callback:function ($$v) {_vm.$set(_vm.search, \"date_to\", $$v)},expression:\"search.date_to\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.categories,\"placeholder\":\"Choose Category ...\"},model:{value:(_vm.search.category_id),callback:function ($$v) {_vm.$set(_vm.search, \"category_id\", $$v)},expression:\"search.category_id\"}},[_vm._v(\"\\\\\\n                                    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.sub_categories,\"placeholder\":\"Choose description ...\"},model:{value:(_vm.search.sub_category_id),callback:function ($$v) {_vm.$set(_vm.search, \"sub_category_id\", $$v)},expression:\"search.sub_category_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('v-select',{attrs:{\"label\":\"name\",\"get-option-label\":_vm.getLabel,\"reduce\":function (option) { return option.id; },\"options\":_vm.search_machines,\"placeholder\":\"Enter machines ...\",\"name\":\"machine_id\"},model:{value:(_vm.search.machine_id),callback:function ($$v) {_vm.$set(_vm.search, \"machine_id\", $$v)},expression:\"search.machine_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                                        Search\\n                                    \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-info ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.reset_filter()}}},[_vm._v(\"\\n                                        Reset\\n                                    \")]),_vm._v(\" \"),(_vm.search.report_type == 'machine wise')?_c('download-excel',{staticClass:\"btn btn-warning ml-2\",attrs:{\"fetch\":_vm.export_csv,\"fields\":_vm.json_fields,\"before-generate\":_vm.startDownload,\"before-finish\":_vm.finishDownload,\"worksheet\":\"My Worksheet\",\"type\":\"csv\",\"name\":\"machine_expenses.csv\"}},[_c('span',{staticClass:\"labelText\"},[_c('i',{staticClass:\"fa fa-file-excel-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                                            Export as CSV\")])]):_c('download-excel',{staticClass:\"btn btn-warning ml-2\",attrs:{\"fetch\":_vm.export_csv,\"fields\":_vm.json_site_fields,\"before-generate\":_vm.startDownload,\"before-finish\":_vm.finishDownload,\"worksheet\":\"My Worksheet\",\"type\":\"csv\",\"name\":\"site_expenses.csv\"}},[_c('span',{staticClass:\"labelText\"},[_c('i',{staticClass:\"fa fa-file-excel-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                                            Export as CSV\")])])],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0 ticketTable\"},[(_vm.Tickets && _vm.Tickets.records)?_c('table',{staticClass:\"table table-hover table-striped\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.search.report_type == 'machine wise' ? 'Machine Name' : 'Site Name'))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.search.report_type == 'machine wise' ? 'FAR No' : 'Site ID'))]),_vm._v(\" \"),_c('th',[_vm._v(\"No of Ticket\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Breakdown \")]),_vm._v(\" \"),_c('th',[_vm._v(\"Preventive\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Major\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Minor\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Material Expenses \")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Service Expenses\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Total Expenses\")])])]),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.Tickets.records.data),function(ticket,xx){return [_c('tr',{key:ticket.id,class:ticket.row_color},[_c('td',[_vm._v(\" \"+_vm._s(_vm.search.report_type == 'machine wise' ? ticket.name : ticket.site_name)+\"\\n                                        \")]),_vm._v(\" \"),_c('td',[_vm._v(\" \"+_vm._s(_vm.search.report_type == 'machine wise' ? ticket.far_no : ticket.site_id)+\"\\n                                            \"),_c('span',{staticClass:\"pl-2\",staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){_vm.get_tickets(ticket,xx);_vm.sub_index=(xx+1)}}},[_c('i',{staticClass:\"fa fa-plus bg-dark\"})])]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(ticket.total_tickets))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(ticket.total_Breakdown))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(ticket.total_Periodic))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(ticket.total_major))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},[_vm._v(_vm._s(ticket.total_minor))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(ticket.material_expenses)))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(ticket.service_expenses)))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")((ticket.total_expenses))))])]),_vm._v(\" \"),(_vm.sub_tickets && (_vm.sub_index==xx+1))?_c('tr',{key:'sk' + ticket.id},[_c('td',{attrs:{\"colspan\":\"10\",\"align\":\"center\"}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Machine Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\" \"+_vm._s(_vm.search.report_type == 'machine wise' ? 'Site Name' :'FAR No')+\" \")]),_vm._v(\" \"),_c('th',[_vm._v(\"Ticket No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"DOM\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Material Expenses \")]),_vm._v(\" \"),_c('th',[_vm._v(\"Material PO\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Service Expenses\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Service PO\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Total Expenses\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Type\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Fault\")]),_vm._v(\" \"),_c('th',[_vm._v(\"TAT\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.sub_tickets),function(item,ix){return (_vm.sub_tickets)?_c('tr',{key:ticket.id + '-' + ix},[_c('td',[_vm._v(\" \"+_vm._s(item.machine.name)+\"\\n                                                        \")]),_vm._v(\" \"),_c('td',[_vm._v(\" \"+_vm._s(_vm.search.report_type == 'machine wise' ? item.site.site_name : item.machine.far_no)+\"\\n                                                        \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.ticket_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(item.actual_date)))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(item.actual_material_cost)))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},_vm._l((item.actual_estimated_material_files),function(it,c){return _c('a',{attrs:{\"href\":it.file,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fa fa-file-pdf\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  \")])}),0),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")(item.actual_service_cost)))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"center\"}},_vm._l((item.actual_estimated_service_files),function(it,c){return _c('a',{attrs:{\"href\":it.file,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fa fa-file-pdf\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  \")])}),0),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")((item.actual_material_cost + item.actual_service_cost))))]),_vm._v(\" \"),_c('td',[(item.ticket_type =='Breakdown Maintenance')?_c('span',{staticClass:\"red\"},[_vm._v(\"Breakdown\")]):_vm._e(),_vm._v(\" \"),(item.ticket_type =='Periodic Maintenance')?_c('span',[_vm._v(\"Preventive\")]):_vm._e()]),_vm._v(\" \"),_c('td',[_c('span',{class:{red:item.complaint_nature=='Major'}},[_vm._v(_vm._s(item.complaint_nature))])]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                                                                \"+_vm._s(item.status=='Closed' ? item.tat:'-')+\"\\n                                                            \")])]):_vm._e()}),0)])])]):_vm._e()]})],2),_vm._v(\" \"),_c('tfoot',[_c('tr',{staticClass:\"table-dark\"},[_vm._m(1),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[(_vm.Tickets && _vm.Tickets.actual_material_cost)?_c('span',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(_vm.Tickets.actual_material_cost)))]):_vm._e()]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[(_vm.Tickets && _vm.Tickets.actual_service_cost)?_c('span',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(_vm.Tickets.actual_service_cost)))]):_vm._e()]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"right\"}},[_vm._v(_vm._s(_vm._f(\"toCurrency\")((_vm.Tickets.actual_material_cost + _vm.Tickets.actual_service_cost)))+\"\\n                                    \")])])])]):_vm._e()]),_vm._v(\" \"),(_vm.Tickets && _vm.Tickets.records)?_c('div',{staticClass:\"card-footer\"},[_c('pagination',{attrs:{\"data\":_vm.Tickets.records},on:{\"pagination-change-page\":_vm.getResults}})],1):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Combined Expense Expenses Report\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{attrs:{\"colspan\":\"7\"}},[_c('strong',[_vm._v(\"Total\")])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}