(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+rgu":function(t,a,s){(t.exports=s("I1BE")(!1)).push([t.i,"\n#apexchartsdnt1 {\n    margin-left: -60px !important;\n}\n",""])},"75G1":function(t,a,s){var e=s("+rgu");e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,s("SZ7m").default)("50a8a30c",e,!0,{})},"8NiE":function(t,a,s){"use strict";s.r(a);var e={data:()=>({records:"",search:{financial_year:"",quarter:"",date_from:"",date_to:"",site_id:"",category_id:"",sub_category_id:"",machine_id:""},monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],chartOptions:{chart:{id:"vuechart-example"},xaxis:{categories:[1991,1992,1993,1994,1995,1996,1997,1998]}},series:[{name:"series-1",data:[30,40,35,50,49,60,70,91]}],donutSeries:[44,55],donutChartOptions:{colors:["#ffc107","#38c172"],chart:{id:"dnt1"},labels:["Major","Minor"],title:{text:"Complaint Nature",align:"center"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom",horizontalAlign:"left"}}}],legend:{position:"bottom",horizontalAlign:"center"}},barCountOptions:{chart:{type:"bar",height:350,stacked:!0},plotOptions:{bar:{horizontal:!0,dataLabels:{total:{enabled:!0,offsetX:0,style:{fontSize:"13px",fontWeight:900}}}}},stroke:{width:1,colors:["#fff"]},title:{text:"Call Status"},xaxis:{categories:["Quarter 1","Quarter 2","Quarter 3","Quarter 4"]},yaxis:{title:{text:void 0}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:40}},barEquipmentOptions:{chart:{height:350,type:"bar"},plotOptions:{bar:{borderRadius:2,columnWidth:"50%"}},dataLabels:{enabled:!1},stroke:{width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{labels:{rotate:-45},categories:["Apples","Oranges","Strawberries","Pineapples","Mangoes","Bananas","Blackberries","Pears","Watermelons","Cherries","Pomegranates","Tangerines","Papayas"],tickPlacement:"on"},yaxis:{title:{text:"Count of Complaint"}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}},barProjectOptions:{chart:{height:350,type:"bar"},plotOptions:{bar:{borderRadius:2,columnWidth:"50%"}},dataLabels:{enabled:!1},stroke:{width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{labels:{rotate:-45},categories:["Apples","Oranges","Strawberries","Pineapples","Mangoes","Bananas","Blackberries","Pears","Watermelons","Cherries","Pomegranates","Tangerines","Papayas"],tickPlacement:"on"},yaxis:{title:{text:"Count of Complaint"}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}},financial_years:[],search_machines:[],search_sites:[],search_tickets:[],categories:[],sub_categories:[],sites:[],machines:[]}),watch:{"search.quarter"(t){t&&(this.search.date_from="",this.search.date_to="",this.search.month="")},"search.date_from"(t){t&&(this.search.month="",this.search.quarter="")},"search.date_to"(t){t&&(this.search.month="",this.search.quarter="")},"search.month"(t){t&&(this.search.date_from="",this.search.date_to="",this.search.quarter="")},search:{handler:function(t){axios.post("api/dashboard",this.search).then(t=>{this.records=t.data.data,this.barEquipmentOptions.xaxis.categories=t.data.data.EquipmentChart.options.xaxis.categories,this.barProjectOptions.xaxis.categories=t.data.data.ProjectChart.options.xaxis.categories}).catch(t=>{console.error(t)})},deep:!0},async"search.sub_category_id"(t,a){t&&this.get_machine()},async"search.site_id"(t,a){t&&this.get_machine()},"search.category_id":{handler:function(t,a){t&&(axios.get("api/category/"+t).then(t=>{this.sub_categories=t.data.data}),this.get_machine())},deep:!0,initial:!0}},created(){console.log(this.barEquipmentOptions.xaxis);for(var t=(new Date).getFullYear(),a=2022;a<=t;a++){var s=a+"-"+(a+1).toString();this.financial_years.push(s)}},beforeCreate(){axios.post("api/dashboard",this.search).then(t=>{this.records=t.data.data,this.barEquipmentOptions.xaxis.categories=t.data.data.EquipmentChart.options.xaxis.categories,this.barProjectOptions.xaxis.categories=t.data.data.ProjectChart.options.xaxis.categories}).catch(t=>{console.error(t)}),axios.get("api/get_pre_machine").then(t=>{this.categories=t.data.data.Category,this.sites=t.data.data.sites}),axios.get("/api/initial_ticket").then(t=>{this.users=t.data.data.vendors,this.machines=t.data.data.machines,this.search_machines=t.data.data.machines,this.search_sites=t.data.data.sites,this.created_users=t.data.data.created_users}).catch(()=>console.warn("Oh. Something went wrong"))},mounted(){this.$gate.isAdmin()||this.$router.push("/tickets").catch(()=>{})},methods:{getLabel:t=>"object"==typeof t?t.far_no+" - "+t.name:t,async get_machine(){axios.get("/api/reports/machines",{params:{site_id:this.search.site_id,category_id:this.search.category_id,sub_category_id:this.search.sub_category_id}}).then(t=>{this.search_machines=t.data.data}).catch(()=>console.warn("Oh. Something went wrong"))}}},i=s("JFUb");var r=function(t){s("75G1")},o=Object(i.a)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"content"},[t.records?s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("FY")]),t._v(" "),s("v-select",{attrs:{options:t.financial_years,placeholder:"Select FY...",name:"financial_year"},model:{value:t.search.financial_year,callback:function(a){t.$set(t.search,"financial_year",a)},expression:"search.financial_year"}})],1),t._v(" "),t.search.date_from||t.search.date_to||t.search.month||!t.search.financial_year?t._e():s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Quarter")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.search.quarter,expression:"search.quarter"}],staticClass:"form-control",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"quarter",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("--")]),t._v(" "),s("Option",{attrs:{value:"4-6"}},[t._v("1")]),t._v(" "),s("Option",{attrs:{value:"7-9"}},[t._v("2")]),t._v(" "),s("Option",{attrs:{value:"10-12"}},[t._v("3")]),t._v(" "),s("Option",{attrs:{value:"1-3"}},[t._v("4")])],1)]),t._v(" "),t.search.date_from||t.search.date_to||t.search.quarter?t._e():s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Month")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.search.month,expression:"search.month"}],staticClass:"form-control",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.search,"month",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("--")]),t._v(" "),t._l(t.monthNames,(function(a,e){return s("Option",{key:"m"+e,attrs:{value:e+1}},[t._v(t._s(a))])}))],2)]),t._v(" "),t.search.month||t.search.quarter?t._e():s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("From Date")]),t._v(" "),s("datetime",{attrs:{"value-zone":"Asia/Kolkata","input-class":"form-control",placeholder:"Created from date"},model:{value:t.search.date_from,callback:function(a){t.$set(t.search,"date_from",a)},expression:"search.date_from"}})],1),t._v(" "),t.search.month||t.search.quarter?t._e():s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("To Date")]),t._v(" "),s("datetime",{attrs:{"value-zone":"Asia/Kolkata","input-class":"form-control",placeholder:"Created to date"},model:{value:t.search.date_to,callback:function(a){t.$set(t.search,"date_to",a)},expression:"search.date_to"}})],1),t._v(" "),s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Project Name")]),t._v(" "),s("v-select",{attrs:{label:"site_name",reduce:function(t){return t.id},options:t.search_sites,placeholder:"Choose Project...",name:"site_id"},model:{value:t.search.site_id,callback:function(a){t.$set(t.search,"site_id",a)},expression:"search.site_id"}})],1),t._v(" "),s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Equipment Category")]),t._v(" "),s("v-select",{attrs:{label:"name",reduce:function(t){return t.id},options:t.categories,placeholder:"Choose Category ..."},model:{value:t.search.category_id,callback:function(a){t.$set(t.search,"category_id",a)},expression:"search.category_id"}},[t._v("\\\n                        ")])],1),t._v(" "),s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Description")]),t._v(" "),s("v-select",{attrs:{label:"name",reduce:function(t){return t.id},options:t.sub_categories,placeholder:"Choose description ..."},model:{value:t.search.sub_category_id,callback:function(a){t.$set(t.search,"sub_category_id",a)},expression:"search.sub_category_id"}})],1),t._v(" "),s("div",{staticClass:"col"},[s("label",{attrs:{for:""}},[t._v("Equipment Name")]),t._v(" "),s("v-select",{attrs:{label:"name","get-option-label":t.getLabel,reduce:function(t){return t.id},options:t.search_machines,placeholder:"Choose Equipment ...",name:"machine_id"},model:{value:t.search.machine_id,callback:function(a){t.$set(t.search,"machine_id",a)},expression:"search.machine_id"}})],1)])])]),t._v(" "),s("div",{staticClass:"row row-eq-height mt-2"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body p-1"},[t._m(1),t._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-6 p-1"},[s("apexchart",{attrs:{width:"440",type:"donut",options:t.donutChartOptions,series:t.records.complain_nature_chart.series}})],1),t._v(" "),s("div",{staticClass:"col-6 p-1"},[s("div",{staticClass:"col-12 p-1"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 pr-1"},[s("div",{staticClass:"info-box bg-yellow"},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.total_tickets))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Total Complaint ")])])])]),t._v(" "),s("div",{staticClass:"col-6 pl-1"},[s("div",{staticClass:"info-box bg-success"},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.avg_tat))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Average TAT (Days)")])])])]),t._v(" "),s("div",{staticClass:"col-6 pr-1"},[s("div",{staticClass:"info-box",staticStyle:{"background-color":"rgba(255, 193, 7, 0.78) !important"}},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.closed_tickets))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Closed Call")])])])]),t._v(" "),s("div",{staticClass:"col-6 pl-1"},[s("div",{staticClass:"info-box",staticStyle:{"background-color":"#38c171c5 !important"}},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.within_tat))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Within TAT")])])])]),t._v(" "),s("div",{staticClass:"col-6 pr-1"},[s("div",{staticClass:"info-box",staticStyle:{"background-color":"rgba(255, 193, 7, 0.495) !important"}},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.open_tickets))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Open Call")])])])]),t._v(" "),s("div",{staticClass:"col-6 pl-1"},[s("div",{staticClass:"info-box",staticStyle:{"background-color":"#38c1719f !important"}},[s("div",{staticClass:"info-box-content"},[s("span",{staticClass:"info-box-number"},[t._v(t._s(t.records.exceeding_tat))]),t._v(" "),s("span",{staticClass:"info-box-text"},[t._v("Exceeding TAT")])])])])])])])])])])])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card"},[t._m(2),t._v(" "),s("div",{staticClass:"card-body p-1"},[s("apexchart",{attrs:{type:"bar",height:"328",options:t.barCountOptions,series:t.records.barCountChart.series}})],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[t._m(3),t._v(" "),s("div",{staticClass:"card-body p-1"},[s("apexchart",{attrs:{type:"bar",height:"350",options:t.records.EquipmentChart.options,series:t.records.EquipmentChart.series}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[t._m(4),t._v(" "),s("div",{staticClass:"card-body p-1"},[s("apexchart",{attrs:{type:"bar",height:"350",options:t.records.ProjectChart.options,series:t.records.ProjectChart.series}})],1)])])])]):t._e()])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[this._v("Complain")]),this._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"row text-center"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[this._v("Count of Complaint Nature by FY, Quarter and Call Status")]),this._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[this._v("Count of Complaint by Equipment Type")]),this._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[this._v("Count of Complaint by Project")]),this._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])}],!1,r,null,null);a.default=o.exports}}]);
//# sourceMappingURL=8.bundle.9f4d7367ad3b931ba2f7.js.map