{"version":3,"sources":["webpack:///resources/js/components/Dashboard/DashboardRMCost.vue","webpack:///./resources/js/components/Dashboard/DashboardRMCost.vue","webpack:///./resources/js/components/Dashboard/DashboardRMCost.vue?f1c4"],"names":["data","records","search","type","financial_year","quarter","date_from","date_to","site_id","category_id","sub_category_id","machine_id","monthNames","series","chartOptions","chart","height","plotOptions","bar","borderRadius","horizontal","dataLabels","enabled","xaxis","categories","financial_years","search_machines","search_sites","search_tickets","sub_categories","sites","machines","watch","handler","axios","then","catch","console","deep","initial","created","beforeCreate","get","mounted","methods","getLabel","params","Component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","$set","expression","month","_e","directives","name","rawName","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","multiple","_l","it","x","key","_s","option","id","_m","barEquipmentOptions","total_tickets"],"mappings":"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","file":"js/18.bundle.76853504cde275bfac44.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\" v-if=\"records\">\n\n\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"form-row\">\n                        <div class=\"col\">\n                            <label for=\"\">FY</label>\n                            <v-select :options=\"financial_years\" placeholder=\"Select FY...\" v-model=\"search.financial_year\"\n                                name=\"financial_year\">\n                            </v-select>\n                        </div>\n                        <div class=\"col\" v-if=\"!search.date_from && !search.date_to && !search.month\">\n                            <label for=\"\">Quarter</label>\n                            <select v-model=\"search.quarter\" class=\"form-control\">\n                                <option value=\"\">--</option>\n                                <Option value=\"4-6\">1</Option>\n                                <Option value=\"7-9\">2</Option>\n                                <Option value=\"10-12\">3</Option>\n                                <Option value=\"1-3\">4</Option>\n                            </select>\n                        </div>\n                        <div class=\"col\" v-if=\"!search.date_from && !search.date_to && !search.quarter\">\n                            <label for=\"\">Month</label>\n                            <select v-model=\"search.month\" class=\"form-control\">\n                                <option value=\"\">--</option>\n                                <Option :value=\"(x+1)\" v-for=\"(it, x) in monthNames\" :key=\"'m' + x\">{{ it }}</Option>\n                            </select>\n                        </div>\n\n                        <div class=\"col\" v-if=\"!search.month && !search.quarter\">\n                            <label for=\"\">From Date</label>\n                            <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_from\" input-class=\"form-control\"\n                                placeholder=\"Created from date\" />\n                        </div>\n                        <div class=\"col\" v-if=\"!search.month && !search.quarter\">\n                            <label for=\"\">To Date</label>\n                            <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_to\" input-class=\"form-control\"\n                                placeholder=\"Created to date\" />\n                        </div>\n\n                        <div class=\"col\">\n                            <label for=\"\">Project Name</label>\n                            <v-select label=\"site_name\" :reduce=\"(option) => option.id\" :options=\"search_sites\"\n                                placeholder=\"Choose Project...\" v-model=\"search.site_id\" name=\"site_id\">\n                            </v-select>\n                        </div>\n                        <div class=\"col\">\n                            <label for=\"\">Equipment Category</label>\n                            <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"categories\"\n                                placeholder=\"Choose Category ...\" v-model=\"search.category_id\">\\\n                            </v-select>\n                        </div>\n                        <div class=\"col  \">\n                            <label for=\"\">Description</label>\n                            <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"sub_categories\"\n                                placeholder=\"Choose description ...\" v-model=\"search.sub_category_id\">\n                            </v-select>\n                        </div>\n                        <div class=\"col  \">\n                            <label for=\"\">Equipment Name</label>\n                            <v-select label=\"name\" :get-option-label=\"getLabel\" :reduce=\"(option) => option.id\"\n                                :options=\"search_machines\" placeholder=\"Choose Equipment ...\" v-model=\"search.machine_id\"\n                                name=\"machine_id\">\n                            </v-select>\n                        </div>\n\n\n                    </div>\n\n                </div>\n            </div>\n            <div class=\"row row-eq-height\">\n                <!-- Left col -->\n\n                <!-- /.col -->\n\n                <div class=\"col-md-6\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Sum of value by Equipment Name</h3>\n                            <div class=\"card-tools\">\n                                <button type=\"button\" class=\"btn btn-tool\" data-card-widget=\"collapse\">\n                                    <i class=\"fas fa-minus\"></i>\n                                </button>\n                            </div>\n                        </div>\n                        <div class=\"card-body p-1\">\n                            <apexchart type=\"bar\" height=\"350\" :options=\"barEquipmentOptions.options\" :series=\"barEquipmentOptions.series\"></apexchart>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"col-md-6\">\n\n\n                    <div class=\"row text-center\">\n                        <div class=\"col-6 p-0\">\n                            <div class=\"col-12 p-1\">\n                                <div class=\"info-box bg-yellow\">\n                                    <div class=\"info-box-content\">\n                                        <span class=\"info-box-number\">{{ records.total_tickets }}</span>\n                                        <span class=\"info-box-text\">Total Cost - Repair & Maintenance (Excluding\n                                            Taxes)</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-12 p-1\">\n                                <div class=\"row text-center\">\n                                    <div class=\"col-6\">\n                                        <div class=\"info-box bg-yellow\">\n                                            <div class=\"info-box-content\">\n                                                <span class=\"info-box-number\">{{ records.total_tickets }}</span>\n                                                <span class=\"info-box-text\">Supply (Excluding\n                                                    Taxes)</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"info-box bg-yellow\">\n                                            <div class=\"info-box-content\">\n                                                <span class=\"info-box-number\">{{ records.total_tickets }}</span>\n                                                <span class=\"info-box-text\">Service (Excluding\n                                                    Taxes)</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-6 p-0\">\n                            R&M Cost - Value by FY\n                            <apexchart type=\"line\" height=\"350\" :options=\"chartOptions\" :series=\"series\"></apexchart>\n                        </div>\n                    </div>\n\n\n                    <div class=\"row text-center\">\n                        <div class=\"col-6 p-0\">\n                            <apexchart type=\"bar\" height=\"350\" :options=\"chartOptions\" :series=\"series\"></apexchart>\n                        </div>\n                        <div class=\"col-6 p-0\">\n                            <apexchart type=\"bar\" height=\"350\" :options=\"chartOptions\" :series=\"series\"></apexchart>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n            <!-- /.row -->\n        </div>\n        <!--/. container-fluid -->\n    </section>\n</template>\n\n<script>\nexport default {\n\n    data() {\n        return {\n            records: '',\n            search: {\n                type: 'RMC',\n                financial_year: '',\n                quarter: '',\n                date_from: '',\n                date_to: '',\n                site_id: '',\n                category_id: '',\n                sub_category_id: '',\n                machine_id: ''\n            },\n            monthNames: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n                \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\n\n            series: [{\n                data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380]\n            }],\n            chartOptions: {\n                chart: {\n                    type: 'bar',\n                    height: 350\n                },\n                plotOptions: {\n                    bar: {\n                        borderRadius: 4,\n                        horizontal: true,\n                    }\n                },\n                dataLabels: {\n                    enabled: false\n                },\n                xaxis: {\n                    categories: ['South Korea', 'Canada', 'United Kingdom', 'Netherlands', 'Italy', 'France', 'Japan',\n                        'United States', 'China', 'Germany'\n                    ],\n                }\n            },\n\n\n\n            financial_years: [],\n            search_machines: [],\n            search_sites: [],\n            search_tickets: [],\n            categories: [],\n            sub_categories: [],\n            sites: [],\n            machines: [],\n        };\n    },\n    watch: {\n\n        'search.quarter'(n){\n            if(n){\n            this.search.date_from =''\n            this.search.date_to=''\n            this.search.month=''\n            }\n        },\n        'search.date_from'(n){\n            if(n){\n            this.search.month=''\n            this.search.quarter=''\n            }\n        },\n        'search.date_to'(n){\n            if(n){\n            this.search.month=''\n            this.search.quarter=''\n            }\n        },\n        'search.month'(n){\n            if(n){\n            this.search.date_from =''\n            this.search.date_to=''\n            this.search.quarter=''\n            }\n        },\n\n        search: {\n            handler: function (n) {\n                axios.post('api/dashboard', this.search)\n                    .then(res => {\n                        this.records = res.data.data\n                        this.barEquipmentOptions.xaxis.categories = res.data.data.EquipmentChart.options.xaxis.categories\n                        this.barProjectOptions.xaxis.categories = res.data.data.ProjectChart.options.xaxis.categories\n                    })\n                    .catch(err => {\n                        console.error(err);\n                    })\n            },\n            deep: true\n        },\n        async \"search.sub_category_id\"(n, o) {\n            if (n) {\n                this.get_machine();\n            }\n        },\n        async \"search.site_id\"(n, o) {\n            if (n) {\n                this.get_machine();\n            }\n        },\n\n        \"search.category_id\": {\n            handler: function (n, o) {\n                if (n) {\n                    axios.get(\"api/category/\" + n).then((res) => {\n                        this.sub_categories = res.data.data;\n                    });\n                    this.get_machine();\n                }\n            },\n            deep: true,\n            initial: true,\n        },\n    },\n    created() {\n        var yearsLength = 30;\n        var currentYear = new Date().getFullYear();\n        for (var i = 2022; i <= currentYear; i++) {\n            var next = i + 1;\n            var year = i + '-' + next.toString();\n            this.financial_years.push(year)\n        }\n    },\n    beforeCreate() {\n        axios.post('api/dashboard', { type: 'RMC' })\n            .then(res => {\n                this.records = res.data.data\n\n                this.barEquipmentOptions  = res.data.data.EquipmentChart\n                this.barProjectOptions.xaxis.categories = res.data.data.ProjectChart.options.xaxis.categories\n            })\n            .catch(err => {\n                console.error(err);\n            })\n\n        axios.get(\"api/get_pre_machine\").then((res) => {\n            this.categories = res.data.data.Category;\n            this.sites = res.data.data.sites;\n        });\n        axios\n            .get(\"/api/initial_ticket\")\n            .then((response) => {\n                this.users = response.data.data.vendors;\n                this.machines = response.data.data.machines;\n                this.search_machines = response.data.data.machines;\n                this.search_sites = response.data.data.sites;\n                this.created_users = response.data.data.created_users;\n            })\n            .catch(() => console.warn(\"Oh. Something went wrong\"));\n\n\n    },\n    mounted() {\n        if (this.$gate.isAdmin()) {\n            // this.$router.push('/users').catch(() => { });\n        } else {\n            this.$router.push(\"/tickets\").catch(() => { });\n        }\n    },\n    methods: {\n        getLabel(val) {\n            if (typeof val === \"object\") {\n                return val.far_no + \" - \" + val.name;\n            } else {\n                return val;\n            }\n        },\n        async get_machine() {\n            axios\n                .get(\"/api/reports/machines\", {\n                    params: {\n                        site_id: this.search.site_id,\n                        category_id: this.search.category_id,\n                        sub_category_id: this.search.sub_category_id,\n                    },\n                })\n                .then((response) => {\n                    this.search_machines = response.data.data;\n                })\n                .catch(() => console.warn(\"Oh. Something went wrong\"));\n        },\n    },\n};\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DashboardRMCost.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DashboardRMCost.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-965e2968\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DashboardRMCost.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[(_vm.records)?_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"FY\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"options\":_vm.financial_years,\"placeholder\":\"Select FY...\",\"name\":\"financial_year\"},model:{value:(_vm.search.financial_year),callback:function ($$v) {_vm.$set(_vm.search, \"financial_year\", $$v)},expression:\"search.financial_year\"}})],1),_vm._v(\" \"),(!_vm.search.date_from && !_vm.search.date_to && !_vm.search.month)?_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Quarter\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search.quarter),expression:\"search.quarter\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.search, \"quarter\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"--\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"4-6\"}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"7-9\"}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"10-12\"}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"1-3\"}},[_vm._v(\"4\")])],1)]):_vm._e(),_vm._v(\" \"),(!_vm.search.date_from && !_vm.search.date_to && !_vm.search.quarter)?_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Month\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search.month),expression:\"search.month\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.search, \"month\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"--\")]),_vm._v(\" \"),_vm._l((_vm.monthNames),function(it,x){return _c('Option',{key:'m' + x,attrs:{\"value\":(x+1)}},[_vm._v(_vm._s(it))])})],2)]):_vm._e(),_vm._v(\" \"),(!_vm.search.month && !_vm.search.quarter)?_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"From Date\")]),_vm._v(\" \"),_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created from date\"},model:{value:(_vm.search.date_from),callback:function ($$v) {_vm.$set(_vm.search, \"date_from\", $$v)},expression:\"search.date_from\"}})],1):_vm._e(),_vm._v(\" \"),(!_vm.search.month && !_vm.search.quarter)?_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"To Date\")]),_vm._v(\" \"),_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created to date\"},model:{value:(_vm.search.date_to),callback:function ($$v) {_vm.$set(_vm.search, \"date_to\", $$v)},expression:\"search.date_to\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Project Name\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Choose Project...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Equipment Category\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.categories,\"placeholder\":\"Choose Category ...\"},model:{value:(_vm.search.category_id),callback:function ($$v) {_vm.$set(_vm.search, \"category_id\", $$v)},expression:\"search.category_id\"}},[_vm._v(\"\\\\\\n                        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Description\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.sub_categories,\"placeholder\":\"Choose description ...\"},model:{value:(_vm.search.sub_category_id),callback:function ($$v) {_vm.$set(_vm.search, \"sub_category_id\", $$v)},expression:\"search.sub_category_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Equipment Name\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"name\",\"get-option-label\":_vm.getLabel,\"reduce\":function (option) { return option.id; },\"options\":_vm.search_machines,\"placeholder\":\"Choose Equipment ...\",\"name\":\"machine_id\"},model:{value:(_vm.search.machine_id),callback:function ($$v) {_vm.$set(_vm.search, \"machine_id\", $$v)},expression:\"search.machine_id\"}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"row row-eq-height\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-1\"},[_c('apexchart',{attrs:{\"type\":\"bar\",\"height\":\"350\",\"options\":_vm.barEquipmentOptions.options,\"series\":_vm.barEquipmentOptions.series}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"row text-center\"},[_c('div',{staticClass:\"col-6 p-0\"},[_c('div',{staticClass:\"col-12 p-1\"},[_c('div',{staticClass:\"info-box bg-yellow\"},[_c('div',{staticClass:\"info-box-content\"},[_c('span',{staticClass:\"info-box-number\"},[_vm._v(_vm._s(_vm.records.total_tickets))]),_vm._v(\" \"),_c('span',{staticClass:\"info-box-text\"},[_vm._v(\"Total Cost - Repair & Maintenance (Excluding\\n                                        Taxes)\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-12 p-1\"},[_c('div',{staticClass:\"row text-center\"},[_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"info-box bg-yellow\"},[_c('div',{staticClass:\"info-box-content\"},[_c('span',{staticClass:\"info-box-number\"},[_vm._v(_vm._s(_vm.records.total_tickets))]),_vm._v(\" \"),_c('span',{staticClass:\"info-box-text\"},[_vm._v(\"Supply (Excluding\\n                                                Taxes)\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"info-box bg-yellow\"},[_c('div',{staticClass:\"info-box-content\"},[_c('span',{staticClass:\"info-box-number\"},[_vm._v(_vm._s(_vm.records.total_tickets))]),_vm._v(\" \"),_c('span',{staticClass:\"info-box-text\"},[_vm._v(\"Service (Excluding\\n                                                Taxes)\")])])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6 p-0\"},[_vm._v(\"\\n                        R&M Cost - Value by FY\\n                        \"),_c('apexchart',{attrs:{\"type\":\"line\",\"height\":\"350\",\"options\":_vm.chartOptions,\"series\":_vm.series}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row text-center\"},[_c('div',{staticClass:\"col-6 p-0\"},[_c('apexchart',{attrs:{\"type\":\"bar\",\"height\":\"350\",\"options\":_vm.chartOptions,\"series\":_vm.series}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-6 p-0\"},[_c('apexchart',{attrs:{\"type\":\"bar\",\"height\":\"350\",\"options\":_vm.chartOptions,\"series\":_vm.series}})],1)])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Sum of value by Equipment Name\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-tool\",attrs:{\"type\":\"button\",\"data-card-widget\":\"collapse\"}},[_c('i',{staticClass:\"fas fa-minus\"})])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}