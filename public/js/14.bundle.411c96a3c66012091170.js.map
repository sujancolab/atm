{"version":3,"sources":["webpack:///resources/js/components/Tickets/Report.vue","webpack:///./resources/js/components/Tickets/Report.vue","webpack:///./resources/js/components/Tickets/Report.vue?77c9"],"names":["components","VueTagsInput","MultiRangeSlider","data","created_users","search_machines","search_sites","search","page","machine_id","site_id","created_by","created_from","created_to","tat_from","tat_to","categories","sub_categories","sites","selected_machine","users","machines","Tickets","json_fields","json_meta","key","value","methods","reset_filter","UpdateValues","startDownload","Swal","title","html","allowOutsideClick","onBeforeOpen","finishDownload","getLabel","getResults","axios","params","then","loadTickets","created","beforeCreate","res","catch","watch","handler","deep","initial","Component","_vm","this","_h","$createElement","_c","_self","staticClass","$gate","isAdmin","_m","_v","attrs","on","$event","preventDefault","option","id","model","callback","$$v","$set","expression","staticStyle","_s","_l","ticket","ticket_no","machine","name","far_no","site","site_name","created_by_name","_f","created_at","likely_date","actual_date","domProps","status","tat","_e"],"mappings":"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","file":"js/14.bundle.411c96a3c66012091170.js","sourcesContent":["<template>\r\n    <section class=\"content\">\r\n        <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-12\">\r\n\r\n                    <div class=\"card\" v-if=\"$gate.isAdmin()\">\r\n                        <div class=\"card-header\">\r\n                            <h3 class=\"card-title\">Ticket Report</h3>\r\n                            <div class=\"card-tools\">\r\n                               \r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"card-body p-2\">\r\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"name\" :get-option-label=\"getLabel\"\r\n                                            :reduce=\"(option) => option.id\" :options=\"search_machines\"\r\n                                            placeholder=\"Enter machines ...\" v-model=\"search.machine_id\"\r\n                                            name=\"machine_id\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"site_name\" :reduce=\"(option) => option.id\"\r\n                                            :options=\"search_sites\" placeholder=\"Select Site...\"\r\n                                            v-model=\"search.site_id\" name=\"site_id\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"site_name\" :options=\"['Open', 'Closed']\"\r\n                                            placeholder=\"Select Status...\" v-model=\"search.status\" name=\"status\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-3\">\r\n                                        <v-select label=\"name\" :options=\"created_users\" :reduce=\"(option) => option.id\"\r\n                                            placeholder=\"Created by...\" v-model=\"search.created_by\" name=\"created_by\">\r\n                                        </v-select>\r\n                                    </div>\r\n                                    <div class=\"col col-3 pt-2\">\r\n                                       <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.created_from\" input-class=\"form-control\" placeholder=\"Created from date\" />\r\n                                    </div>\r\n                                    <div class=\"col col-3 pt-2\">\r\n                                       <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.created_to\" input-class=\"form-control\" placeholder=\"Created to date\"/>\r\n                                    </div>\r\n                                    <div class=\"col col-4 pt-2\">\r\n                                       <!--  <MultiRangeSlider baseClassName=\"multi-range-slider\" :min=\"0\" \r\n                                            :max=\"100\" :step=\"5\" :ruler=\"true\" :label=\"true\"\r\n                                            :minValue=\"search.tat_from\" :maxValue=\"search.tat_to\"\r\n                                            @input=\"UpdateValues\" /> -->\r\n\r\n\r\n\r\n  <fieldset style=\"max-width: 400px; margin: auto; text-align: left;  \">     \r\n    <div style=\"display: flex; justify-content: space-between; text-align: center; height: 39px;\">\r\n      <span\r\n        style=\"\r\n          display: inline-block;\r\n          padding: 5px;\r\n          border: solid 1px;\r\n          border-radius: 5px;\r\n          width: 100px;\r\n          margin: 3px;\r\n          \r\n        \"\r\n        >{{ search.tat_from }}</span\r\n      >\r\n      <span style=\"top: 25%; position: relative;\">TAT</span>\r\n      <span\r\n        style=\"\r\n          display: inline-block;\r\n          padding: 5px;\r\n          border: solid 1px;\r\n          border-radius: 5px;\r\n          width: 100px;\r\n          margin: 3px;\r\n        \"\r\n        >{{ search.tat_to }}</span\r\n      >\r\n    </div>\r\n\r\n    <MultiRangeSlider\r\n      baseClassName=\"multi-range-slider-bar-only\"\r\n      :minValue=\"search.tat_from\"\r\n      :maxValue=\"search.tat_to\"\r\n      :max=\"100\"\r\n      :min=\"0\"\r\n      :step=\"1\"\r\n      :rangeMargin=\"0\"\r\n      @input=\"UpdateValues\"\r\n    />\r\n  </fieldset>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                    </div>\r\n                                    <div class=\"col pt-2\">\r\n                                    <button type=\"submit\" class=\"btn btn-success\">Search</button>\r\n                                    <button type=\"button\" class=\"btn btn-info ml-2\" @click=\"reset_filter()\">Reset</button>\r\n                                </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n\r\n                        <!-- /.card-header -->\r\n                        <div class=\"card-body table-responsive p-0\">\r\n                            <table class=\"table table-hover\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Ticket No </th>\r\n                                        <th>Machine Name</th>\r\n                                        <th>Machine Far No</th>\r\n                                        <th>Site</th>\r\n                                        <th>Created By</th>\r\n                                        <th>Created Date</th>\r\n                                        <th>Expected date</th>\r\n                                        <th>Resoulution date</th>\r\n                                        <th>Ticket Status</th>\r\n                                        <th>TAT</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"ticket in Tickets.data\" :key=\"ticket.id\">\r\n                                        <td>{{ ticket.ticket_no }}</td>\r\n                                        <td class=\"text-capitalize\">{{ ticket.machine.name }}</td>\r\n                                        <td>{{ ticket.machine.far_no }}</td>\r\n                                         <td>{{ ticket.site ? ticket.site.site_name:'-' }}</td>\r\n                                        <td>{{ ticket.created_by_name }}</td>\r\n                                        <td>{{ ticket.created_at | myDate }}</td>\r\n                                        <td>{{ ticket.likely_date | myDate }}</td>\r\n                                        <td>{{ ticket.actual_date   }}</td>\r\n                                        <td v-html=\"ticket.status\"></td> \r\n                                        <td>{{ticket.actual_date?ticket.tat:'-'}}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <!-- /.card-body -->\r\n                        <div class=\"card-footer\">\r\n                            <pagination :data=\"Tickets\" @pagination-change-page=\"getResults\"></pagination>\r\n                        </div>\r\n                    </div>\r\n                    <!-- /.card -->\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div v-if=\"!$gate.isAdmin()\">\r\n                <not-found></not-found>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport MultiRangeSlider from \"multi-range-slider-vue\"; \r\nimport \"multi-range-slider-vue/MultiRangeSliderBlack.css\";\r\nimport \"multi-range-slider-vue/MultiRangeSliderBarOnly.css\";\r\n\r\nimport VueTagsInput from '@johmun/vue-tags-input';\r\nexport default {\r\n    components: {\r\n        VueTagsInput,\r\n        MultiRangeSlider,\r\n    },\r\n    data() {\r\n        return {\r\n            created_users: [],\r\n            search_machines: [],\r\n            search_sites: [],\r\n            search: {\r\n                page: 1,\r\n                machine_id: '',\r\n                site_id: '',\r\n                created_by: '',\r\n                created_from: '',\r\n                created_to: '',\r\n                tat_from: 0,\r\n                tat_to: 90,\r\n            },\r\n            categories: [],\r\n            sub_categories: [],\r\n            sites: [],\r\n            selected_machine: '',\r\n            users: [],\r\n            machines: [],\r\n            Tickets: {},\r\n\r\n\r\n            json_fields: {\r\n                'Ticket no': 'ticket_no',\r\n                'Last Name': 'last_name',\r\n                'Email': 'email',\r\n                'Type': 'type',\r\n                'Country Code': 'country_code',\r\n                'Phone Number': 'phone_number',\r\n                'VSD ID': 'vsd_id',\r\n                'License Number': 'license_number',\r\n            },\r\n            json_meta: [\r\n                [{\r\n                    key: \"charset\",\r\n                    value: \"utf-8\",\r\n                },],\r\n            ],\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        reset_filter(){\r\n            this.search= {\r\n                page: 1,\r\n                machine_id: '',\r\n                site_id: '',\r\n                created_by: '',\r\n                created_from: '',\r\n                created_to: '',\r\n                tat_from: 0,\r\n                tat_to: 90,\r\n            } \r\n            this.getResults()\r\n        },\r\n        UpdateValues(e) {\r\n            this.search.tat_from = e.minValue;\r\n            this.search.tat_to = e.maxValue;\r\n        },\r\n        // excel\r\n        async export_csv() {\r\n            const response = await axios.get('api/ticket/export');\r\n\r\n            return response.data.data;\r\n        },\r\n        startDownload() {\r\n            Swal.fire({\r\n                title: 'Please Wait !',\r\n                html: 'Data populating', // add html attribute if you want or remove\r\n                allowOutsideClick: false,\r\n                onBeforeOpen: () => {\r\n                    Swal.showLoading()\r\n                },\r\n            });\r\n        },\r\n        finishDownload() {\r\n            Swal.close()\r\n        },\r\n\r\n\r\n\r\n        getLabel(val) {\r\n            if (typeof val === 'object') {\r\n                return val.far_no + ' - ' + val.name;\r\n            } else {\r\n                return val;\r\n            }\r\n        },\r\n        getResults(page = 1) {\r\n            this.$Progress.start();\r\n            this.search.page = page\r\n            axios.get('/api/ticket', {\r\n                params: this.search\r\n            }).then(({\r\n                data\r\n            }) => (this.Tickets = data.data));\r\n            this.$Progress.finish();\r\n        },\r\n        loadTickets() {\r\n            if (this.$gate.isAdmin()) {\r\n                axios.get(\"/api/ticket\", {\r\n                    params: this.search\r\n                }).then(({\r\n                    data\r\n                }) => (this.Tickets = data.data));\r\n            }\r\n        },\r\n\r\n    },\r\n    created() {\r\n        this.loadTickets();\r\n    },\r\n    beforeCreate() {\r\n        axios.get(\"api/get_pre_machine\")\r\n            .then((res) => {\r\n                this.categories = res.data.data.Category;\r\n                this.sites = res.data.data.sites;\r\n            })\r\n        axios.get(\"/api/initial_ticket\").then(response => {\r\n            this.users = response.data.data.vendors;\r\n            this.machines = response.data.data.machines;\r\n            this.search_machines = response.data.data.machines;\r\n            this.search_sites = response.data.data.sites;\r\n            this.created_users = response.data.data.created_users;\r\n        }).catch(() => console.warn('Oh. Something went wrong'));\r\n    },\r\n    watch: {\r\n        async 'form.sub_category_id'(n, o) {\r\n            if (n) {\r\n                this.get_machine()\r\n            }\r\n        },\r\n        async 'form.site_id'(n, o) {\r\n            if (n) {\r\n                this.get_machine()\r\n            }\r\n        },\r\n\r\n        'form.category_id': {\r\n            handler: function (n, o) {\r\n\r\n                if (n) {\r\n                    axios.get(\"api/category/\" + n)\r\n                        .then((res) => {\r\n                            this.sub_categories = res.data.data;\r\n                        })\r\n                    this.get_machine()\r\n                }\r\n            },\r\n            deep: true,\r\n            initial: true\r\n        },\r\n\r\n    },\r\n}\r\n</script>\r\n ","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9704a8ee\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Report.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[(_vm.$gate.isAdmin())?_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"get-option-label\":_vm.getLabel,\"reduce\":function (option) { return option.id; },\"options\":_vm.search_machines,\"placeholder\":\"Enter machines ...\",\"name\":\"machine_id\"},model:{value:(_vm.search.machine_id),callback:function ($$v) {_vm.$set(_vm.search, \"machine_id\", $$v)},expression:\"search.machine_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"options\":['Open', 'Closed'],\"placeholder\":\"Select Status...\",\"name\":\"status\"},model:{value:(_vm.search.status),callback:function ($$v) {_vm.$set(_vm.search, \"status\", $$v)},expression:\"search.status\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"options\":_vm.created_users,\"reduce\":function (option) { return option.id; },\"placeholder\":\"Created by...\",\"name\":\"created_by\"},model:{value:(_vm.search.created_by),callback:function ($$v) {_vm.$set(_vm.search, \"created_by\", $$v)},expression:\"search.created_by\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3 pt-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created from date\"},model:{value:(_vm.search.created_from),callback:function ($$v) {_vm.$set(_vm.search, \"created_from\", $$v)},expression:\"search.created_from\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3 pt-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created to date\"},model:{value:(_vm.search.created_to),callback:function ($$v) {_vm.$set(_vm.search, \"created_to\", $$v)},expression:\"search.created_to\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-4 pt-2\"},[_c('fieldset',{staticStyle:{\"max-width\":\"400px\",\"margin\":\"auto\",\"text-align\":\"left\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"text-align\":\"center\",\"height\":\"39px\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"padding\":\"5px\",\"border\":\"solid 1px\",\"border-radius\":\"5px\",\"width\":\"100px\",\"margin\":\"3px\"}},[_vm._v(_vm._s(_vm.search.tat_from))]),_vm._v(\" \"),_c('span',{staticStyle:{\"top\":\"25%\",\"position\":\"relative\"}},[_vm._v(\"TAT\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"display\":\"inline-block\",\"padding\":\"5px\",\"border\":\"solid 1px\",\"border-radius\":\"5px\",\"width\":\"100px\",\"margin\":\"3px\"}},[_vm._v(_vm._s(_vm.search.tat_to))])]),_vm._v(\" \"),_c('MultiRangeSlider',{attrs:{\"baseClassName\":\"multi-range-slider-bar-only\",\"minValue\":_vm.search.tat_from,\"maxValue\":_vm.search.tat_to,\"max\":100,\"min\":0,\"step\":1,\"rangeMargin\":0},on:{\"input\":_vm.UpdateValues}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col pt-2\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Search\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-info ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.reset_filter()}}},[_vm._v(\"Reset\")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.Tickets.data),function(ticket){return _c('tr',{key:ticket.id},[_c('td',[_vm._v(_vm._s(ticket.ticket_no))]),_vm._v(\" \"),_c('td',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(ticket.machine.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.machine.far_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.site ? ticket.site.site_name:'-'))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.created_by_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(ticket.created_at)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(ticket.likely_date)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.actual_date))]),_vm._v(\" \"),_c('td',{domProps:{\"innerHTML\":_vm._s(ticket.status)}}),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.actual_date?ticket.tat:'-'))])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('pagination',{attrs:{\"data\":_vm.Tickets},on:{\"pagination-change-page\":_vm.getResults}})],1)]):_vm._e()])]),_vm._v(\" \"),(!_vm.$gate.isAdmin())?_c('div',[_c('not-found')],1):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Ticket Report\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Ticket No \")]),_vm._v(\" \"),_c('th',[_vm._v(\"Machine Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Machine Far No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Site\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Created By\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Created Date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Expected date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Resoulution date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Ticket Status\")]),_vm._v(\" \"),_c('th',[_vm._v(\"TAT\")])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}