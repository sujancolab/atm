{"version":3,"sources":["webpack:///resources/js/components/MasterReport.vue","webpack:///./resources/js/components/MasterReport.vue","webpack:///./resources/js/components/MasterReport.vue?75af"],"names":["components","VueTagsInput","MultiRangeSlider","data","created_users","search_machines","search_sites","search","page","machine_id","site_id","created_by","created_from","created_to","tat_from","tat_to","categories","sub_categories","sites","selected_machine","users","machines","Tickets","sl","json_fields","callback","json_meta","key","value","methods","UpdateValues","startDownload","Swal","title","html","allowOutsideClick","onBeforeOpen","finishDownload","getLabel","getResults","axios","params","then","loadTickets","created","beforeCreate","res","catch","watch","handler","deep","initial","Component","_vm","this","_h","$createElement","_c","_self","staticClass","$gate","isAdmin","_v","attrs","export_csv","set_image","on","$event","preventDefault","option","id","model","$$v","$set","expression","_m","_l","ticket","x","_s","from","site_name","machine_name","far_no","ticket_no","_f","created_at","created_by_name","complaint_nature","status_during_complaint","problem_description","machine_status","current_stage","likely_date","actual_date","tat","estimated_service_cost","actual_service_cost","production_loss","_e"],"mappings":"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","file":"js/13.bundle.18c77ecdf143a58c6703.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n\n                <div class=\"col-12\">\n\n                    <div class=\"card\" v-if=\"$gate.isAdmin()\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Ticket Report</h3>\n                            <div class=\"card-tools\">\n                                <download-excel class=\"btn btn-sm btn-primary\" :fetch=\"export_csv\" :fields=\"json_fields\"\n                                    :before-generate=\"startDownload\" :before-finish=\"finishDownload\"\n                                    worksheet=\"My Worksheet\" type=\"csv\" name=\"user_list.csv\">\n                                    <span class=\"labelText\"><img :src=\"set_image('images/file.png')\" class=\"icon\"\n                                            width=\"20\">Export CSV</span>\n                                </download-excel>\n\n                            </div>\n                        </div>\n\n                        <div class=\"card-body p-2\">\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\n                                <div class=\"form-row\">\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"name\" :get-option-label=\"getLabel\"\n                                            :reduce=\"(option) => option.id\" :options=\"search_machines\"\n                                            placeholder=\"Enter machines ...\" v-model=\"search.machine_id\"\n                                            name=\"machine_id\">\n                                        </v-select>\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"site_name\" :reduce=\"(option) => option.id\"\n                                            :options=\"search_sites\" placeholder=\"Select Site...\"\n                                            v-model=\"search.site_id\" name=\"site_id\">\n                                        </v-select>\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"site_name\" :options=\"['Open', 'Closed']\"\n                                            placeholder=\"Select Status...\" v-model=\"search.status\" name=\"status\">\n                                        </v-select>\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"name\" :options=\"created_users\" :reduce=\"(option) => option.id\"\n                                            placeholder=\"Created by...\" v-model=\"search.created_by\" name=\"created_by\">\n                                        </v-select>\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <datetime v-model=\"search.created_from\" input-class=\"form-control\" />\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <datetime v-model=\"search.created_to\" input-class=\"form-control\" />\n                                    </div>\n                                    <div class=\"col col-6\">\n                                        <MultiRangeSlider baseClassName=\"multi-range-slider\" :min=\"0\" :max=\"100\"\n                                            :step=\"5\" :ruler=\"true\" :label=\"true\" :minValue=\"search.tat_from\"\n                                            :maxValue=\"search.tat_to\" @input=\"UpdateValues\" />\n                                    </div>\n                                    <button type=\"submit\" class=\"btn btn-success\">Search</button>\n                                </div>\n                            </form>\n                        </div>\n\n                        <!-- /.card-header -->\n                        <div class=\"card-body table-responsive p-0\">\n                            <table class=\"table table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th>Sl no</th>\n                                        <th>Site name</th>\n                                        <th>Equipment Description</th>\n                                        <th>FAR No</th>\n                                        <th>Complaint No</th>\n                                        <th>Complaint date</th>\n                                        <th>Complaint Raised By</th>\n                                        <th>Complaint Nature</th>\n                                        <th>Status During Complaint</th>\n                                        <th>Problem description</th>\n                                        <th>Current Status</th>\n                                        <th>Current Stage</th>\n                                        <th>Expected Resolution date</th>\n                                        <th>Actual Resolve Date</th>\n                                        <th>TAT</th>\n                                        <th>Estimated Cost</th>\n                                        <th>Actual Cost</th>\n                                        <th>Production Loss</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(ticket,x) in Tickets.data\" :key=\"ticket.id\">\n                                        <td>{{ Tickets.from+x }}</td>\n                                        <td class=\"text-capitalize\">{{ ticket.site_name }}</td>\n                                        <td>{{ ticket.machine_name }}</td>\n                                        <td>{{ ticket.far_no }}</td>\n                                        <td>{{ ticket.ticket_no }}</td>\n                                        <td>{{ ticket.created_at | myDate }}</td>\n                                        <td>{{ticket.created_by_name}}</td>\n                                        <td>{{ticket.complaint_nature}}</td>\n                                        <td>{{ticket.status_during_complaint}}</td>\n                                        <td>{{ticket.problem_description}}</td>\n                                        <td>{{ticket.machine_status}}</td>\n                                        <td>{{ticket.current_stage}}</td>\n                                        <td>{{ticket.likely_date| myDate}}</td>\n                                        <td>{{ ticket.actual_date}}</td>\n                                        <td>{{ticket.tat}}</td>\n                                        <td>{{ticket.estimated_service_cost}}</td>\n                                        <td>{{ticket.actual_service_cost}}</td>\n                                        <td>{{ticket.production_loss}}</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <!-- /.card-body -->\n                        <div class=\"card-footer\">\n                            <pagination :data=\"Tickets\" @pagination-change-page=\"getResults\"></pagination>\n                        </div>\n                    </div>\n                    <!-- /.card -->\n                </div>\n            </div>\n\n\n            <div v-if=\"!$gate.isAdmin()\">\n                <not-found></not-found>\n            </div>\n\n\n        </div>\n\n\n\n    </section>\n</template>\n\n<script>\nimport MultiRangeSlider from \"multi-range-slider-vue\";\nimport VueTagsInput from '@johmun/vue-tags-input';\nexport default {\n    components: {\n        VueTagsInput,\n        MultiRangeSlider,\n    },\n    data() {\n        return {\n            created_users: [],\n            search_machines: [],\n            search_sites: [],\n            search: {\n                page: 1,\n                machine_id: '',\n                site_id: '',\n                created_by: '',\n                created_from: '',\n                created_to: '',\n                tat_from: 0,\n                tat_to: 90,\n            },\n            categories: [],\n            sub_categories: [],\n            sites: [],\n            selected_machine: '',\n            users: [],\n            machines: [],\n            Tickets: {},\nsl:1,\n\n            json_fields: {\n                \"Sl No\": {\n\n                    callback: () => {\n                    return this.sl++;\n                    },\n                },\n                'Site name': 'site_name',\n                'Equipment Description': 'machine_name',\n                'FAR No': 'far_no',\n                'Complaint No': 'ticket_no',\n                'Complaint date': \"created_at\",\n                'Complaint Raised By': 'created_by_name',\n                'Complaint Nature': 'complaint_nature',\n                'Status During Complaint': 'status_during_complaint',\n                'Problem description': 'problem_description',\n                'Current Status': 'machine_status',\n                'Current Stage': 'last_stage',\n                'Expected Resolution date': 'likely_resolution_date',\n                'Actual Resolve Date': 'actual_resolve_date',\n                'TAT': 'tat',\n                'Estimated Cost': 'estimated_service_cost',\n                'Actual Cost': 'actual_service_cost',\n                'Production Loss': 'production_loss'\n            },\n            json_meta: [\n                [{\n                    key: \"charset\",\n                    value: \"utf-8\",\n                },],\n            ],\n            sl: 0,\n        }\n    },\n    methods: {\n        UpdateValues(e) {\n            this.search.tat_from = e.minValue;\n            this.search.tat_to = e.maxValue;\n        },\n        // excel\n        async export_csv() {\n            const response = await axios.get('api/ticket/export');\n            return response.data.data;\n        },\n        startDownload() {\n            this.sl=1;\n            Swal.fire({\n                title: 'Please Wait !',\n                html: 'Data populating', // add html attribute if you want or remove\n                allowOutsideClick: false,\n                onBeforeOpen: () => {\n                    Swal.showLoading()\n                },\n            });\n        },\n        finishDownload() {\n            Swal.close()\n        },\n\n        getLabel(val) {\n            if (typeof val === 'object') {\n                return val.far_no + ' - ' + val.name;\n            } else {\n                return val;\n            }\n        },\n        getResults(page = 1) {\n            this.$Progress.start();\n            this.search.page = page\n            axios.get('/api/ticket/report', {\n                params: this.search\n            }).then(({\n                data\n            }) => (this.Tickets = data.data));\n            this.$Progress.finish();\n        },\n        loadTickets() {\n            if (this.$gate.isAdmin()) {\n                axios.get(\"/api/ticket/report\", {\n                    params: this.search\n                }).then(({\n                    data\n                }) => (this.Tickets = data.data));\n            }\n        },\n\n    },\n    created() {\n        this.loadTickets();\n    },\n    beforeCreate() {\n        axios.get(\"api/get_pre_machine\")\n            .then((res) => {\n                this.categories = res.data.data.Category;\n                this.sites = res.data.data.sites;\n            })\n        axios.get(\"/api/initial_ticket\").then(response => {\n            this.users = response.data.data.vendors;\n            this.machines = response.data.data.machines;\n            this.search_machines = response.data.data.machines;\n            this.search_sites = response.data.data.sites;\n            this.created_users = response.data.data.created_users;\n        }).catch(() => console.warn('Oh. Something went wrong'));\n    },\n    watch: {\n        async 'form.sub_category_id'(n, o) {\n            if (n) {\n                this.get_machine()\n            }\n        },\n        async 'form.site_id'(n, o) {\n            if (n) {\n                this.get_machine()\n            }\n        },\n\n        'form.category_id': {\n            handler: function (n, o) {\n\n                if (n) {\n                    axios.get(\"api/category/\" + n)\n                        .then((res) => {\n                            this.sub_categories = res.data.data;\n                        })\n                    this.get_machine()\n                }\n            },\n            deep: true,\n            initial: true\n        },\n\n    },\n}\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MasterReport.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MasterReport.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-463ada9b\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MasterReport.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[(_vm.$gate.isAdmin())?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Ticket Report\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"},[_c('download-excel',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"fetch\":_vm.export_csv,\"fields\":_vm.json_fields,\"before-generate\":_vm.startDownload,\"before-finish\":_vm.finishDownload,\"worksheet\":\"My Worksheet\",\"type\":\"csv\",\"name\":\"user_list.csv\"}},[_c('span',{staticClass:\"labelText\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.set_image('images/file.png'),\"width\":\"20\"}}),_vm._v(\"Export CSV\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"get-option-label\":_vm.getLabel,\"reduce\":function (option) { return option.id; },\"options\":_vm.search_machines,\"placeholder\":\"Enter machines ...\",\"name\":\"machine_id\"},model:{value:(_vm.search.machine_id),callback:function ($$v) {_vm.$set(_vm.search, \"machine_id\", $$v)},expression:\"search.machine_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"options\":['Open', 'Closed'],\"placeholder\":\"Select Status...\",\"name\":\"status\"},model:{value:(_vm.search.status),callback:function ($$v) {_vm.$set(_vm.search, \"status\", $$v)},expression:\"search.status\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"options\":_vm.created_users,\"reduce\":function (option) { return option.id; },\"placeholder\":\"Created by...\",\"name\":\"created_by\"},model:{value:(_vm.search.created_by),callback:function ($$v) {_vm.$set(_vm.search, \"created_by\", $$v)},expression:\"search.created_by\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('datetime',{attrs:{\"input-class\":\"form-control\"},model:{value:(_vm.search.created_from),callback:function ($$v) {_vm.$set(_vm.search, \"created_from\", $$v)},expression:\"search.created_from\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('datetime',{attrs:{\"input-class\":\"form-control\"},model:{value:(_vm.search.created_to),callback:function ($$v) {_vm.$set(_vm.search, \"created_to\", $$v)},expression:\"search.created_to\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('MultiRangeSlider',{attrs:{\"baseClassName\":\"multi-range-slider\",\"min\":0,\"max\":100,\"step\":5,\"ruler\":true,\"label\":true,\"minValue\":_vm.search.tat_from,\"maxValue\":_vm.search.tat_to},on:{\"input\":_vm.UpdateValues}})],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Search\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.Tickets.data),function(ticket,x){return _c('tr',{key:ticket.id},[_c('td',[_vm._v(_vm._s(_vm.Tickets.from+x))]),_vm._v(\" \"),_c('td',{staticClass:\"text-capitalize\"},[_vm._v(_vm._s(ticket.site_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.machine_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.far_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.ticket_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(ticket.created_at)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.created_by_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.complaint_nature))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.status_during_complaint))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.problem_description))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.machine_status))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.current_stage))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(ticket.likely_date)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.actual_date))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.tat))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.estimated_service_cost))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.actual_service_cost))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.production_loss))])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('pagination',{attrs:{\"data\":_vm.Tickets},on:{\"pagination-change-page\":_vm.getResults}})],1)]):_vm._e()])]),_vm._v(\" \"),(!_vm.$gate.isAdmin())?_c('div',[_c('not-found')],1):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Sl no\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Site name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Equipment Description\")]),_vm._v(\" \"),_c('th',[_vm._v(\"FAR No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Complaint No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Complaint date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Complaint Raised By\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Complaint Nature\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Status During Complaint\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Problem description\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Current Status\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Current Stage\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Expected Resolution date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Actual Resolve Date\")]),_vm._v(\" \"),_c('th',[_vm._v(\"TAT\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Estimated Cost\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Actual Cost\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Production Loss\")])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}