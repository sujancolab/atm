(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{22:function(a,t,e){"use strict";(function(a){var s=e(28);t.a={name:"Machine",components:{VueGauge:s.a},data:()=>({Machines:{},pmModalData:""}),methods:{async view_pm_details(t){this.pmModalData=t,a("#pmModal").modal("show")},getResults(a=1){axios.get("api/machine?page="+a).then(({data:a})=>this.Machines=a.data)},loadMachines(){axios.get("api/machine").then(({data:a})=>this.Machines=a.data)},deleteMachine(a){Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.value&&this.form.delete("api/machine/"+a).then(()=>{Swal.fire("Deleted!","Your file has been deleted.","success"),this.loadMachines()}).catch(a=>{Swal.fire("Failed!",a.message,"warning")})})}},mounted(){},created(){this.loadMachines()}}}).call(this,e(4))},365:function(a,t,e){"use strict";e.r(t);var s=e(22),i=e(2),l=Object(i.a)(s.a,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[a._v("Machine List")]),a._v(" "),e("div",{staticClass:"card-tools"},[e("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/machines/add"}},[e("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}}),a._v(" Add New\n                            ")])],1)]),a._v(" "),e("div",{staticClass:"card-body table-responsive p-0"},[e("table",{staticClass:"table table-hover"},[a._m(0),a._v(" "),e("tbody",a._l(a.Machines.data,(function(t){return e("tr",{key:t.id},[e("td",{staticClass:"align-middle"},[a._v(a._s(t.far_no))]),a._v(" "),e("td",{staticClass:"align-middle"},[a._v(a._s(t.name))]),a._v(" "),e("td",{staticClass:"align-middle"},[a._v(a._s(t.owner))]),a._v(" "),e("td",{staticClass:"align-middle",on:{click:function(e){return a.view_pm_details(t)}}},[e("VueGauge",{attrs:{refid:"mg-id"+t.id,options:{needleValue:t.next_pm_date.early,arcDelimiters:[10,36,78],arcColors:["red","orange","yellow","green"],chartWidth:"80"}}})],1),a._v(" "),e("td",{staticClass:"align-middle"},[a._v(a._s(t.purchase_date))]),a._v(" "),e("td",{staticClass:"align-middle"},[a._v(a._s(t.machine_type))]),a._v(" "),e("td",{staticClass:"align-middle"},[e("router-link",{staticClass:"text-green",attrs:{to:"/machines/edit/"+t.id}},[e("i",{staticClass:"fa fa-edit blue"})]),a._v("\n                                        /\n                                        "),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return a.deleteMachine(t.id)}}},[e("i",{staticClass:"fa fa-trash red"})])],1)])})),0)])]),a._v(" "),e("div",{staticClass:"card-footer"},[a.Machines?e("pagination",{attrs:{data:a.Machines},on:{"pagination-change-page":a.getResults}}):a._e()],1)])])])]),a._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"pmModal",tabindex:"-1",role:"dialog","aria-labelledby":"pmModal","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[a._m(1),a._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[a.pmModalData.is_maintenance_date?e("div",{staticClass:"col-sm"},[e("VueGauge",{attrs:{refid:"popg1",options:{needleValue:a.pmModalData.next_pm_date.maintenance_date,arcDelimiters:[10,36,78],arcColors:["red","orange","yellow","green"],chartWidth:"150"}}}),a._v(" "),e("p",[a._v("Maintenance Date")])],1):a._e(),a._v(" "),a.pmModalData.is_consumtion_km_run?e("div",{staticClass:"col-sm"},[e("VueGauge",{attrs:{refid:"popg2",options:{needleValue:a.pmModalData.next_pm_date.km_run,arcDelimiters:[10,36,78],arcColors:["red","orange","yellow","green"],chartWidth:"150"}}}),a._v(" "),e("p",[a._v("KM Run")])],1):a._e(),a._v(" "),a.pmModalData.is_consumtion_hr_run?e("div",{staticClass:"col-sm"},[e("VueGauge",{attrs:{refid:"popg3",options:{needleValue:a.pmModalData.next_pm_date.hr_run,arcDelimiters:[10,36,78],arcColors:["red","orange","yellow","green"],chartWidth:"150"}}}),a._v(" "),e("p",[a._v("Hr Run")])],1):a._e(),a._v(" "),a.pmModalData.is_production_fig?e("div",{staticClass:"col-sm"},[e("VueGauge",{attrs:{refid:"popg4",options:{needleValue:a.pmModalData.next_pm_date.production_fig,arcDelimiters:[10,36,78],arcColors:["red","orange","yellow","green"],chartWidth:"150"}}}),a._v(" "),e("p",[a._v("Production Fig")])],1):a._e()])])])])])])])}),[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("thead",[e("tr",[e("th",[a._v("FAR No ")]),a._v(" "),e("th",[a._v("Name")]),a._v(" "),e("th",[a._v("Owner")]),a._v(" "),e("th",[a._v("Chart")]),a._v(" "),e("th",[a._v("Purchase Date")]),a._v(" "),e("th",[a._v("Machine Type")]),a._v(" "),e("th",[a._v("Action")])])])},function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[this._v("View PM Details")]),this._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])])}],!1,null,null,null);t.default=l.exports}}]);
//# sourceMappingURL=6.bundle.88f2c89556af4bbfff14.js.map