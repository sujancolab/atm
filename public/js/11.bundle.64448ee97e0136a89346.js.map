{"version":3,"sources":["webpack:///resources/js/components/sites/index.vue","webpack:///./resources/js/components/sites/index.vue","webpack:///./resources/js/components/sites/index.vue?263e"],"names":["components","VueTagsInput","data","editmode","Sites","states","cities","form","id","site_id","site_name","address","state","city","zip_code","allocate_user","categories","users","tag","autocompleteItems","methods","getResults","axios","loadSites","loadCategories","loadTags","text","catch","editModal","$","newModal","createSite","then","Toast","icon","title","err","updateSite","response","deleteSite","Swal","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","mounted","created","filters","truncate","computed","filteredItems","beforeCreate","res","watch","immediate","handler","params","Component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","_m","_l","Site","key","_s","$event","_e","directives","name","rawName","value","expression","preventDefault","class","verrors","has","domProps","target","composing","$set","first","option","model","callback","$$v"],"mappings":"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","file":"js/11.bundle.64448ee97e0136a89346.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n\n                <div class=\"col-12\">\n\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Site List</h3>\n\n                            <div class=\"card-tools\">\n\n                                <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"newModal\">\n                                    <i class=\"fa fa-plus-square\"></i>\n                                    Add New\n                                </button>\n                            </div>\n                        </div>\n                        <!-- /.card-header -->\n                        <div class=\"card-body table-responsive p-0\">\n                            <table class=\"table table-hover\">\n                                <thead>\n                                    <tr>\n                                        <th>Site ID</th>\n                                        <th>Name</th>\n                                        <th>Address</th>\n                                        <th>State</th>\n                                        <th>City</th>\n                                        <th>Pin Code</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"Site in Sites.data\" :key=\"Site.id\">\n\n                                        <td>{{ Site.site_id }}</td>\n                                        <td>{{ Site.site_name }}</td>\n                                        <td>{{ Site.address }}</td>\n                                        <td>{{ Site.state }}</td>\n                                        <td>{{ Site.city }}</td>\n                                        <td>{{ Site.zip_code }}</td>\n                                        <!-- <td><img v-bind:src=\"'/' + Site.photo\" width=\"100\" alt=\"Site\"></td> -->\n                                        <td>\n                                            <a href=\"javascript:void(0);\" @click=\"editModal(Site)\" class=\"btn btn-success btn-sm\">\n                                                Edit\n                                            </a>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <!-- /.card-body -->\n                        <div class=\"card-footer\">\n                            <pagination :data=\"Sites\" @pagination-change-page=\"getResults\" v-if=\"Sites\"></pagination>\n                        </div>\n                    </div>\n                    <!-- /.card -->\n                </div>\n            </div>\n\n            <!-- Modal -->\n            <div class=\"modal fade\" id=\"addNew\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"addNew\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-lg\" role=\"document\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\" v-show=\"!editmode\">Create New Site</h5>\n                            <h5 class=\"modal-title\" v-show=\"editmode\">Edit Site</h5>\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n\n                        <form @submit.prevent=\"editmode ? updateSite() : createSite()\">\n                            <div class=\"modal-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>Site Id</label>\n                                            <input v-model=\"form.site_id\" type=\"text\" name=\"site_id\"\n                                                v-validate=\"'required'\" data-vv-as=\"Site Id\" class=\"form-control\"\n                                                :class=\"{ 'is-invalid': verrors.has('site_id') }\">\n                                            <div v-if=\"verrors.has('site_id')\" class=\"help-block invalid-feedback\"> {{\n                                                    verrors.first('site_id')\n                                            }}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>Site Name</label>\n                                            <input v-model=\"form.site_name\" type=\"text\" name=\"site_name\"\n                                                class=\"form-control\" :class=\"{ 'is-invalid': verrors.has('site_name') }\"\n                                                v-validate=\"'required'\" data-vv-as=\"site name\">\n                                            <div v-if=\"verrors.has('site_name')\" class=\"help-block invalid-feedback\"> {{\n                                                    verrors.first('site_name')\n                                            }}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>Site Address</label>\n                                            <input v-model=\"form.address\" type=\"text\" name=\"address\"\n                                                class=\"form-control\" :class=\"{ 'is-invalid': verrors.has('address') }\"\n                                                v-validate=\"'required'\" data-vv-as=\"address\">\n                                            <div v-if=\"verrors.has('address')\" class=\"help-block invalid-feedback\"> {{\n                                                    verrors.first('address')\n                                            }}</div>\n                                        </div>\n                                    </div>\n                                   <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>State</label>\n                                            <v-select label=\"name\" :reduce=\"(option) => option.name\" :options=\"states\" placeholder=\"Enter State ...\" v-model=\"form.state\" v-validate=\"'required'\"\n                                            :class=\"{ 'error': verrors.state, 'error': verrors.has('state'), 'haveValue': form.state }\"\n                                            data-vv-name=\"state\"/>\n                                            <div v-if=\"verrors.has('state')\" class=\"help-block invalid-feedback\">{{verrors.first('state')}}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>City</label>\n                                            <v-select label=\"name\" :reduce=\"(option) => option.name\" :options=\"cities\" placeholder=\"Enter City ...\" v-model=\"form.city\" v-validate=\"'required'\"\n                                            :class=\"{ 'error': verrors.city, 'error': verrors.has('city'), 'haveValue': form.city }\"\n                                            data-vv-name=\"city\"/>\n                                            <div v-if=\"verrors.has('city')\" class=\"help-block invalid-feedback\">{{verrors.first('city')}}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>Pin Code</label>\n                                            <input v-model=\"form.zip_code\" type=\"text\" name=\"zip_code\"\n                                                class=\"form-control\" :class=\"{ 'is-invalid': verrors.has('zip_code') }\"\n                                                v-validate=\"'required|integer|min:6|max:6'\" data-vv-as=\"Pin code\">\n                                            <div v-if=\"verrors.has('zip_code')\" class=\"help-block invalid-feedback\"> {{\n                                                    verrors.first('zip_code')\n                                            }}</div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-6\">\n                                        <div class=\"form-group\">\n                                            <label>Allocate Users </label>\n                                            <v-select multiple label=\"name\" :reduce=\"(option) => option.id\"\n                                                :options=\"users\" placeholder=\"Enter users ...\"\n                                                v-model=\"form.allocate_user\" v-validate=\"'required'\"\n                                                :class=\"{ 'is-invalid': verrors.has('allocate_user') }\"\n                                                name=\"allocate_user\" data-vv-as=\"Allocate Users\">\n                                            </v-select>\n\n                                            <div v-if=\"verrors.has('allocate_user')\"\n                                                class=\"help-block invalid-feedback\">\n                                                {{ verrors.first('allocate_user') }}</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"modal-footer\">\n                                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                                <button v-show=\"editmode\" type=\"submit\" class=\"btn btn-success\">Update</button>\n                                <button v-show=\"!editmode\" type=\"submit\" class=\"btn btn-primary\">Create</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport VueTagsInput from '@johmun/vue-tags-input';\n\nexport default {\n    components: {\n        VueTagsInput,\n    },\n    data() {\n        return {\n            editmode: false,\n            Sites: {},\n             states: [],\n            cities: [],\n            form: new Form({\n                id: '',\n                site_id: '',\n                site_name: '',\n                address: '',\n                state: '',\n                city: '',\n                zip_code: '',\n                allocate_user: []\n            }),\n            categories: [],\n\n            users: [],\n            tag: '',\n            autocompleteItems: [],\n        }\n    },\n    methods: {\n\n        getResults(page = 1) {\n\n            this.$Progress.start();\n\n            axios.get('api/site?page=' + page).then(({ data }) => (this.Sites = data.data));\n\n            this.$Progress.finish();\n        },\n        loadSites() {\n\n            // if(this.$gate.isAdmin()){\n            axios.get(\"api/site\").then(({ data }) => (this.Sites = data.data));\n            // }\n        },\n        loadCategories() {\n            axios.get(\"/api/category/list\").then(({ data }) => (this.categories = data.data));\n        },\n        loadTags() {\n            axios.get(\"/api/user/list\").then(response => {\n                this.users = response.data.data;\n                this.autocompleteItems = response.data.data.map(a => {\n                    return { text: a.name, id: a.id };\n                });\n            }).catch(() => console.warn('Oh. Something went wrong'));\n        },\n        editModal(Site) {\n            this.editmode = true;\n            this.form.reset();\n            $('#addNew').modal('show');\n            this.form.fill(Site);\n            //this.form.allocate_user=[2]\n            this.form.allocate_user = Site.allocate_users.map(g => g.id);\n\n\n\n\n        },\n        newModal() {\n            this.editmode = false;\n            this.form.reset();\n            $('#addNew').modal('show');\n        },\n        createSite() {\n            this.$validator.validateAll().then(async (valid) => {\n                if (valid) {\n                    this.verrors.clear();\n\n                    this.form.post('api/site')\n                        .then((data) => {\n                            if (data.data.success) {\n                                $('#addNew').modal('hide');\n                                Toast.fire({\n                                    icon: 'success',\n                                    title: data.data.message\n                                });\n                                this.loadSites();\n                            } else {\n                                Toast.fire({\n                                    icon: 'error',\n                                    title: 'Some error occured! Please try again'\n                                });\n                            }\n                        })\n                        .catch(err => {\n                            if (err.response && err.response.data) {\n                                this.$setErrorsFromResponse(err.response.data);\n                            }\n                        })\n\n                }\n            })\n        },\n        updateSite() {\n            this.$validator.validateAll().then(async (valid) => {\n                if (valid) {\n                    this.verrors.clear();\n                    this.form.put('api/site/' + this.form.id)\n                        .then((response) => {\n                            // success\n                            $('#addNew').modal('hide');\n                            Toast.fire({\n                                icon: 'success',\n                                title: response.data.message\n                            });\n                            this.$Progress.finish();\n                            //Fire.$emit('AfterCreate');\n                            this.loadSites();\n                        })\n                        .catch(err => {\n                            if (err.response && err.response.data) {\n                                this.$setErrorsFromResponse(err.response.data);\n                            }\n                        });\n                }\n            })\n        },\n\n        deleteSite(id) {\n            Swal.fire({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                showCancelButton: true,\n                confirmButtonColor: '#d33',\n                cancelButtonColor: '#3085d6',\n                confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n\n                // Send request to the server\n                if (result.value) {\n                    this.form.delete('api/site/' + id).then(() => {\n                        Swal.fire(\n                            'Deleted!',\n                            'Your file has been deleted.',\n                            'success'\n                        );\n                        // Fire.$emit('AfterCreate');\n                        this.loadSites();\n                    }).catch((data) => {\n                        Swal.fire(\"Failed!\", data.message, \"warning\");\n                    });\n                }\n            })\n        },\n\n    },\n    mounted() {\n\n    },\n    created() {\n        this.$Progress.start();\n\n        this.loadSites();\n        // this.loadCategories();\n        this.loadTags();\n\n        this.$Progress.finish();\n    },\n    filters: {\n        truncate: function (text, length, suffix) {\n            return text.substring(0, length) + suffix;\n        },\n    },\n    computed: {\n        filteredItems() {\n            return this.autocompleteItems.filter(i => {\n                return i.text.toLowerCase().indexOf(this.tag.toLowerCase()) !== -1;\n            });\n        },\n    },\n    beforeCreate() {\n            axios.get(\"api/getStates\")\n                .then((res) => {\n                    this.states = res.data.data\n                })\n        },\n        watch: {\n            'form.state': {\n                immediate: true,\n                handler(n) {\n                    if (n) {\n                        axios.get(\"api/getCities\", {\n                                params: {\n                                    'state': n\n                                }\n                            })\n                            .then((res) => {\n                                this.cities = res.data.data\n                            })\n                    }\n                }\n            },\n        },\n}\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-668adba9\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Site List\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"},[_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.newModal}},[_c('i',{staticClass:\"fa fa-plus-square\"}),_vm._v(\"\\n                                Add New\\n                            \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.Sites.data),function(Site){return _c('tr',{key:Site.id},[_c('td',[_vm._v(_vm._s(Site.site_id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(Site.site_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(Site.address))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(Site.state))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(Site.city))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(Site.zip_code))]),_vm._v(\" \"),_c('td',[_c('a',{staticClass:\"btn btn-success btn-sm\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.editModal(Site)}}},[_vm._v(\"\\n                                            Edit\\n                                        \")])])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[(_vm.Sites)?_c('pagination',{attrs:{\"data\":_vm.Sites},on:{\"pagination-change-page\":_vm.getResults}}):_vm._e()],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"addNew\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"addNew\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editmode),expression:\"!editmode\"}],staticClass:\"modal-title\"},[_vm._v(\"Create New Site\")]),_vm._v(\" \"),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editmode),expression:\"editmode\"}],staticClass:\"modal-title\"},[_vm._v(\"Edit Site\")]),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.editmode ? _vm.updateSite() : _vm.createSite()}}},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Site Id\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.site_id),expression:\"form.site_id\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('site_id') },attrs:{\"type\":\"text\",\"name\":\"site_id\",\"data-vv-as\":\"Site Id\"},domProps:{\"value\":(_vm.form.site_id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"site_id\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('site_id'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\" \"+_vm._s(_vm.verrors.first('site_id')))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Site Name\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.site_name),expression:\"form.site_name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('site_name') },attrs:{\"type\":\"text\",\"name\":\"site_name\",\"data-vv-as\":\"site name\"},domProps:{\"value\":(_vm.form.site_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"site_name\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('site_name'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\" \"+_vm._s(_vm.verrors.first('site_name')))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Site Address\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.address),expression:\"form.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('address') },attrs:{\"type\":\"text\",\"name\":\"address\",\"data-vv-as\":\"address\"},domProps:{\"value\":(_vm.form.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"address\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('address'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\" \"+_vm._s(_vm.verrors.first('address')))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"State\")]),_vm._v(\" \"),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],class:{ 'error': _vm.verrors.state, 'error': _vm.verrors.has('state'), 'haveValue': _vm.form.state },attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.name; },\"options\":_vm.states,\"placeholder\":\"Enter State ...\",\"data-vv-name\":\"state\"},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}}),_vm._v(\" \"),(_vm.verrors.has('state'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(_vm._s(_vm.verrors.first('state')))]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"City\")]),_vm._v(\" \"),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],class:{ 'error': _vm.verrors.city, 'error': _vm.verrors.has('city'), 'haveValue': _vm.form.city },attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.name; },\"options\":_vm.cities,\"placeholder\":\"Enter City ...\",\"data-vv-name\":\"city\"},model:{value:(_vm.form.city),callback:function ($$v) {_vm.$set(_vm.form, \"city\", $$v)},expression:\"form.city\"}}),_vm._v(\" \"),(_vm.verrors.has('city'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(_vm._s(_vm.verrors.first('city')))]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Pin Code\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.zip_code),expression:\"form.zip_code\"},{name:\"validate\",rawName:\"v-validate\",value:('required|integer|min:6|max:6'),expression:\"'required|integer|min:6|max:6'\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('zip_code') },attrs:{\"type\":\"text\",\"name\":\"zip_code\",\"data-vv-as\":\"Pin code\"},domProps:{\"value\":(_vm.form.zip_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"zip_code\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('zip_code'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\" \"+_vm._s(_vm.verrors.first('zip_code')))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Allocate Users \")]),_vm._v(\" \"),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],class:{ 'is-invalid': _vm.verrors.has('allocate_user') },attrs:{\"multiple\":\"\",\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.users,\"placeholder\":\"Enter users ...\",\"name\":\"allocate_user\",\"data-vv-as\":\"Allocate Users\"},model:{value:(_vm.form.allocate_user),callback:function ($$v) {_vm.$set(_vm.form, \"allocate_user\", $$v)},expression:\"form.allocate_user\"}}),_vm._v(\" \"),(_vm.verrors.has('allocate_user'))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\"\\n                                            \"+_vm._s(_vm.verrors.first('allocate_user')))]):_vm._e()],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editmode),expression:\"editmode\"}],staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Update\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editmode),expression:\"!editmode\"}],staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Create\")])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Site ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Address\")]),_vm._v(\" \"),_c('th',[_vm._v(\"State\")]),_vm._v(\" \"),_c('th',[_vm._v(\"City\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Pin Code\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Action\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}