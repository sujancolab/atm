{"version":3,"sources":["webpack:///resources/js/components/Reports/SiteWiseExpenses.vue","webpack:///./resources/js/components/Reports/SiteWiseExpenses.vue","webpack:///./resources/js/components/Reports/SiteWiseExpenses.vue?1507"],"names":["name","components","MonthPicker","MonthPickerInput","data","pmModalData","total_service_cost","total_material_cost","created_users","search_machines","search_sites","search","page","machine_id","site_id","category_id","sub_category_id","monthYear","date_from","date_to","report_type","categories","sub_categories","sites","selected_machine","users","machines","Tickets","clearEmittedText","default_month","json_fields","json_meta","key","value","methods","showClearText","window","axios","get","params","then","catch","reset_filter","UpdateValues","startDownload","Swal","title","html","allowOutsideClick","onBeforeOpen","finishDownload","getLabel","getResults","console","created","beforeCreate","watch","handler","deep","initial","Component","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","$event","preventDefault","option","id","model","callback","$$v","$set","expression","export_csv","records","_l","ticket","class","row_color","_s","site_name","_f","material_expenses","service_expenses","actual_material_cost","_e","actual_service_cost"],"mappings":"mHAoHe,GACfA,wBACAC,YACAC,gBACAC,sBAEAC,UACA,CACAC,eACAC,qBACAC,sBACAC,iBACAC,mBACAC,gBACAC,QACAC,OACAC,cACAC,WACAC,eACAC,mBACAC,aACAC,aACAC,WACAC,yBAEAC,cACAC,kBACAC,SACAC,oBACAC,SACAC,YACAC,WACAC,oBACAC,iBACAC,aACA,wBACA,oBACA,+CACA,6CACA,mCAEAC,WACA,CACA,CACAC,cACAC,mBAMAC,SACAC,gBACA,gCACA,sBACAC,uBACA,4BACA,MAEA,oBACAC,MACAC,6BACAC,QACAzB,4BACAC,oCACAC,+CAGAwB,SACA,mCAEAC,qDAEAC,eACA,aACA9B,OACAC,cACAC,WACAC,eACAC,mBACAC,aACAG,yBAEA,mBAEAuB,gBACA,gCACA,+BAGA,mBACA,2CACA,oDAEA,OADA,oCACA,aAEAC,gBACAC,WACAC,sBACAC,uBACAC,qBACAC,kBACAJ,uBAIAK,iBACAL,cAGAM,YACA,mBACA,sBAEA,EAGAC,gBACA,uBACA,mBAEAf,uCACAG,SACA,2BAEAC,UACAY,mBAEA,0BAIAC,UACA,mBAEAC,eACAlB,0CACA,qCACA,+BAEAA,MACAC,2BACAE,SACA,+BACA,mCACA,0CACA,oCACA,+CAEAC,qDAEAe,OACA,mCACA,GACA,oBAGA,2BACA,GACA,oBAIA,sBACAC,sBACA,IACApB,sCACA,kCAEA,qBAGAqB,QACAC,c,YCnRIC,EAAY,YACd,GCfW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,GAAGP,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACK,MAAM,CAAC,aAAe,OAAOC,GAAG,CAAC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","file":"js/19.bundle.13a36030eaf7ea045244.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Site Wise Expenses Report</h3>\n                            <div class=\"card-tools\"></div>\n                        </div>\n\n                        <div class=\"card-body p-2\">\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\n                                <div class=\"form-row\">\n                                    <div class=\"col col-2\">\n                                        <v-select label=\"site_name\" :reduce=\"(option) => option.id\" :options=\"search_sites\"\n                                            placeholder=\"Select Site...\" v-model=\"search.site_id\" name=\"site_id\">\n                                        </v-select>\n                                    </div>\n\n\n                                     <div class=\"col col-2 \">\n                                        <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_from\"\n                                            input-class=\"form-control\" placeholder=\"Created from date\" />\n                                    </div>\n                                    <div class=\"col col-2 \">\n                                        <datetime value-zone=\"Asia/Kolkata\" v-model=\"search.date_to\"\n                                            input-class=\"form-control\" placeholder=\"Created to date\" />\n                                    </div>\n\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"categories\"\n                                            placeholder=\"Choose Category ...\" v-model=\"search.category_id\"> </v-select>\n                                    </div>\n                                    <div class=\"col col-3\">\n                                        <v-select label=\"name\" :reduce=\"(option) => option.id\" :options=\"sub_categories\"\n                                            placeholder=\"Choose description ...\" v-model=\"search.sub_category_id\">\n                                        </v-select>\n                                    </div>\n                                    <div class=\"col col-2\">\n                                        <v-select label=\"name\" :get-option-label=\"getLabel\" :reduce=\"(option) => option.id\"\n                                            :options=\"search_machines\" placeholder=\"Enter machines ...\"\n                                            v-model=\"search.machine_id\" name=\"machine_id\">\n                                        </v-select>\n                                    </div>\n\n\n\n                                    <div class=\"col  \">\n                                        <button type=\"submit\" class=\"btn btn-success\">\n                                            Search\n                                        </button>\n                                        <button type=\"button\" class=\"btn btn-info ml-2\" @click=\"reset_filter()\">\n                                            Reset\n                                        </button>\n                                        <download-excel class=\"btn btn-warning ml-2\" :fetch=\"export_csv\" :fields=\"json_fields\" :before-generate=\"startDownload\"\n                                        :before-finish=\"finishDownload\" worksheet=\"My Worksheet\" type=\"csv\" name=\"site_expenses.csv\">\n                                        <span class=\"labelText\">\n                                            <i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i>\n                                            Export as CSV</span>\n                                    </download-excel>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n\n                        <!-- /.card-header -->\n                        <div class=\"card-body table-responsive p-0 ticketTable\">\n                            <table class=\"table table-hover\" v-if=\"Tickets && Tickets.records\">\n                                <thead>\n                                    <tr>\n                                        <th>Site Name</th>\n                                        <th>Site ID</th>\n                                        <th>Actual Material Expenses </th>\n                                        <th>Actual Service Expenses</th>\n                                        <th>Total Expenses</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"ticket in Tickets.records.data\" :key=\"ticket.id\" :class=\"ticket.row_color\">\n                                        <td>{{ ticket.site_name }}</td>\n                                        <td>{{ ticket.site_id}}</td>\n                                        <td>{{ ticket.material_expenses|toCurrency }}</td>\n                                        <td>{{ ticket.service_expenses | toCurrency }}</td>\n                                        <td>{{(ticket.material_expenses+ticket.service_expenses) | toCurrency }}</td>\n\n                                    </tr>\n                                </tbody>\n                                 <tfoot>\n                                    <tr>\n                                        <td colspan=\"2\">Total</td>\n                                        <td><span v-if=\"Tickets && Tickets.actual_material_cost\">{{\n                                            Tickets.actual_material_cost | toCurrency }}</span></td>\n                                        <td><span v-if=\"Tickets && Tickets.actual_service_cost\">{{\n                                            Tickets.actual_service_cost | toCurrency }}</span></td>\n                                        <td>{{(Tickets.actual_material_cost+Tickets.actual_service_cost) | toCurrency }}</td>\n\n                                    </tr>\n                                </tfoot>\n                            </table>\n                        </div>\n                        <!-- /.card-body -->\n                        <div class=\"card-footer\" v-if=\"Tickets && Tickets.records\">\n                            <pagination :data=\"Tickets.records\" @pagination-change-page=\"getResults\"></pagination>\n                        </div>\n                    </div>\n                    <!-- /.card -->\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport { MonthPicker } from 'vue-month-picker'\nimport { MonthPickerInput } from 'vue-month-picker'\nexport default {\n    name: \"SiteWiseExpenses\",\n    components: {\n  MonthPicker,\n  MonthPickerInput\n },\n    data() {\n        return {\n            pmModalData: \"\",\n            total_service_cost:0,\n            total_material_cost:0,\n            created_users: [],\n            search_machines: [],\n            search_sites: [],\n            search: {\n                page: 1,\n                machine_id: \"\",\n                site_id: \"\",\n                category_id: \"\",\n                sub_category_id: \"\",\n                monthYear: \"\",\n                date_from:'',\n                date_to:'',\n                report_type:\"site wise\",\n            },\n            categories: [],\n            sub_categories: [],\n            sites: [],\n            selected_machine: \"\",\n            users: [],\n            machines: [],\n            Tickets: {},\n            clearEmittedText:'',\n            default_month:'',\n            json_fields: {\n                \"Site Name\": \"site_name\",\n                \"Site ID\": \"site_id\",\n                \"Actual Material Expenses\": \"material_expenses\",\n                \"Actual Service Expenses\": \"service_expenses\",\n                \"Total Expenses\": \"total_expenses\",\n            },\n            json_meta: [\n                [\n                    {\n                        key: \"charset\",\n                        value: \"utf-8\",\n                    },\n                ],\n            ],\n        };\n    },\n    methods: {\n        showClearText() {\n            this.clearEmittedText = 'emitted'\n            this.default_month=''\n            window.setTimeout(() => {\n                this.clearEmittedText = null\n            }, 1000)\n        },\n        async get_machine() {\n      axios\n        .get(\"/api/reports/machines\", {\n          params: {\n            site_id: this.search.site_id,\n            category_id: this.search.category_id,\n            sub_category_id: this.search.sub_category_id,\n          },\n        })\n        .then((response) => {\n          this.search_machines = response.data.data;\n        })\n        .catch(() => console.warn(\"Oh. Something went wrong\"));\n    },\n        reset_filter() {\n            this.search = {\n                page: 1,\n                machine_id: \"\",\n                site_id: \"\",\n                category_id: \"\",\n                sub_category_id: \"\",\n                monthYear: \"\",\n                report_type:\"site wise\",\n            };\n            this.getResults();\n        },\n        UpdateValues(e) {\n            this.search.tat_from = e.minValue;\n            this.search.tat_to = e.maxValue;\n        },\n        // excel\n        async export_csv() {\n            this.search.report_type='site wise export'\n            const response = await axios.post(\"api/reports\",this.search);\n            this.search.report_type='site wise'\n            return response.data.data;\n        },\n        startDownload() {\n            Swal.fire({\n                title: \"Please Wait !\",\n                html: \"Data populating\",\n                allowOutsideClick: false,\n                onBeforeOpen: () => {\n                    Swal.showLoading();\n                },\n            });\n        },\n        finishDownload() {\n            Swal.close();\n        },\n\n        getLabel(val) {\n            if (typeof val === \"object\") {\n                return val.far_no + \" - \" + val.name;\n            } else {\n                return val;\n            }\n        },\n        getResults(page = 1) {\n            this.$Progress.start();\n            this.search.page = page;\n\n            axios.post(\"/api/reports\",this.search)\n            .then(res => {\n                this.Tickets = res.data.data\n            })\n            .catch(err => {\n                console.error(err);\n            })\n            this.$Progress.finish();\n        },\n\n    },\n    created() {\n        this.getResults();\n    },\n    beforeCreate() {\n        axios.get(\"api/get_pre_machine\").then((res) => {\n            this.categories = res.data.data.Category;\n            this.sites = res.data.data.sites;\n        });\n        axios\n            .get(\"/api/initial_ticket\")\n            .then((response) => {\n                this.users = response.data.data.vendors;\n                this.machines = response.data.data.machines;\n                this.search_machines = response.data.data.machines;\n                this.search_sites = response.data.data.sites;\n                this.created_users = response.data.data.created_users;\n            })\n            .catch(() => console.warn(\"Oh. Something went wrong\"));\n    },\n    watch: {\n        async \"search.sub_category_id\"(n, o) {\n            if (n) {\n                this.get_machine();\n            }\n        },\n        async \"search.site_id\"(n, o) {\n            if (n) {\n                this.get_machine();\n            }\n        },\n\n        \"search.category_id\": {\n            handler: function (n, o) {\n                if (n) {\n                    axios.get(\"api/category/\" + n).then((res) => {\n                        this.sub_categories = res.data.data;\n                    });\n                    this.get_machine();\n                }\n            },\n            deep: true,\n            initial: true,\n        },\n    },\n\n\n};\n\n\n\n\n\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SiteWiseExpenses.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SiteWiseExpenses.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-392b763a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SiteWiseExpenses.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-2\"},[_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created from date\"},model:{value:(_vm.search.date_from),callback:function ($$v) {_vm.$set(_vm.search, \"date_from\", $$v)},expression:\"search.date_from\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('datetime',{attrs:{\"value-zone\":\"Asia/Kolkata\",\"input-class\":\"form-control\",\"placeholder\":\"Created to date\"},model:{value:(_vm.search.date_to),callback:function ($$v) {_vm.$set(_vm.search, \"date_to\", $$v)},expression:\"search.date_to\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.categories,\"placeholder\":\"Choose Category ...\"},model:{value:(_vm.search.category_id),callback:function ($$v) {_vm.$set(_vm.search, \"category_id\", $$v)},expression:\"search.category_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('v-select',{attrs:{\"label\":\"name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.sub_categories,\"placeholder\":\"Choose description ...\"},model:{value:(_vm.search.sub_category_id),callback:function ($$v) {_vm.$set(_vm.search, \"sub_category_id\", $$v)},expression:\"search.sub_category_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('v-select',{attrs:{\"label\":\"name\",\"get-option-label\":_vm.getLabel,\"reduce\":function (option) { return option.id; },\"options\":_vm.search_machines,\"placeholder\":\"Enter machines ...\",\"name\":\"machine_id\"},model:{value:(_vm.search.machine_id),callback:function ($$v) {_vm.$set(_vm.search, \"machine_id\", $$v)},expression:\"search.machine_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                                        Search\\n                                    \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-info ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.reset_filter()}}},[_vm._v(\"\\n                                        Reset\\n                                    \")]),_vm._v(\" \"),_c('download-excel',{staticClass:\"btn btn-warning ml-2\",attrs:{\"fetch\":_vm.export_csv,\"fields\":_vm.json_fields,\"before-generate\":_vm.startDownload,\"before-finish\":_vm.finishDownload,\"worksheet\":\"My Worksheet\",\"type\":\"csv\",\"name\":\"site_expenses.csv\"}},[_c('span',{staticClass:\"labelText\"},[_c('i',{staticClass:\"fa fa-file-excel-o\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                                        Export as CSV\")])])],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0 ticketTable\"},[(_vm.Tickets && _vm.Tickets.records)?_c('table',{staticClass:\"table table-hover\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.Tickets.records.data),function(ticket){return _c('tr',{key:ticket.id,class:ticket.row_color},[_c('td',[_vm._v(_vm._s(ticket.site_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.site_id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(ticket.material_expenses)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(ticket.service_expenses)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"toCurrency\")((ticket.material_expenses+ticket.service_expenses))))])])}),0),_vm._v(\" \"),_c('tfoot',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"Total\")]),_vm._v(\" \"),_c('td',[(_vm.Tickets && _vm.Tickets.actual_material_cost)?_c('span',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(_vm.Tickets.actual_material_cost)))]):_vm._e()]),_vm._v(\" \"),_c('td',[(_vm.Tickets && _vm.Tickets.actual_service_cost)?_c('span',[_vm._v(_vm._s(_vm._f(\"toCurrency\")(_vm.Tickets.actual_service_cost)))]):_vm._e()]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"toCurrency\")((_vm.Tickets.actual_material_cost+_vm.Tickets.actual_service_cost))))])])])]):_vm._e()]),_vm._v(\" \"),(_vm.Tickets && _vm.Tickets.records)?_c('div',{staticClass:\"card-footer\"},[_c('pagination',{attrs:{\"data\":_vm.Tickets.records},on:{\"pagination-change-page\":_vm.getResults}})],1):_vm._e()])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Site Wise Expenses Report\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Site Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Site ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Actual Material Expenses \")]),_vm._v(\" \"),_c('th',[_vm._v(\"Actual Service Expenses\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Total Expenses\")])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}