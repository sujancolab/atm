{"version":3,"sources":["webpack:///resources/js/components/Reading/AddEditReadingData.vue","webpack:///./resources/js/components/Reading/AddEditReadingData.vue","webpack:///./resources/js/components/Reading/AddEditReadingData.vue?ddc5"],"names":["name","components","MonthPicker","MonthPickerInput","data","form","site_id","read_at","reading","pmModalData","created_users","search_machines","search_sites","search_tickets","search","categories","sub_categories","sites","selected_machine","users","machines","Tickets","clearEmittedText","default_month","json_meta","key","value","methods","showClearText","window","UpdateValues","finishDownload","Swal","getLabel","getResults","axios","then","console","res","id","machine_running_status","site_name","far_no","machine_model_name","regn_no","machine_sr_no","engine_no","chassis_no","is_consumtion_hr_run","is_consumtion_km_run","is_production_fig","condition_of_machine","catch","submit_data","Toast","icon","title","mounted","container","starting_hourmeter","closing_hourmeter","starting_km","closing_km","daily_running_hour","diesel_issued","cloaderd","created","beforeCreate","get","watch","Component","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","$event","preventDefault","directives","rawName","expression","$route","params","domProps","target","composing","$set","option","model","callback","$$v","_e","_l","ticket","index","_s","class","verrors","has","first"],"mappings":"oHAmIe,GACfA,wBACAC,YACAC,gBACAC,sBAEAC,UACA,CACAC,eACAC,WACAC,WACAC,aAEAD,WACAE,eACAC,iBACAC,mBACAC,gBACAC,kBACAC,QACAP,WACAD,YAEAS,cACAC,kBACAC,SACAC,oBACAC,SACAC,YACAC,WACAC,oBACAC,iBACAC,WACA,CACA,CACAC,cACAC,mBAMAC,SACAC,gBACA,gCACA,sBACAC,uBACA,4BACA,MAEAC,gBACA,gCACA,+BAGAC,iBACAC,cAGAC,YACA,mBACA,sBAEA,EAGAC,gBAEA,sBACAF,qCACA,sBACAA,kCAEA,uBAEAG,yDACAC,SACAC,yBACA,8BACAL,0EAIAM,wBACA,wBACAC,QACAC,8CACAC,mCACAzC,YACA0C,gBACAC,wCACAC,kBACAC,8BACAC,sBACAC,wBACAC,wCACAC,4CACAC,sCACAC,kDAKAC,UACAf,mBAEA,0BAGAgB,cACA,6CACA,GACA,uBACA,sBACA,6DACA,mBAEAC,YACAC,eACAC,oCAEA,iDACA,sBAEAF,YACAC,eACAC,uCAKA,uCACAnB,wBACA,mBAEAiB,YACAC,eACAC,qCAEA,iDACA,sBAEAF,YACAC,eACAC,yCAOAF,YACAC,eACAC,0CAMAC,UACA,0BACApB,mCACA,mCACA,0BACAqB,qCAEAvB,gDACAC,SAGA,sCACA,sCAGA,qBAEAE,qCACA,wBACAC,gBACAoB,wCACAC,sCACAC,0BACAC,wBACAC,wCACAC,8BACAxB,gDACAC,2CACAzC,oBACA0C,wBACAC,oCACAC,0BACAC,sCACAC,8BACAC,gCACAC,gDACAC,oDACAC,8CACAC,wDAGAc,WAEAb,WACAa,SACA,sDAKAC,YAGAC,eACAhC,0CACA,qCACA,+BAEAA,MACAiC,2BACAhC,SACA,+BACA,mCACA,0CACA,oCACA,+CAEAgB,qDAEAiB,U,YCzVIC,EAAY,YACd,GCfW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,GAAGP,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACK,MAAM,CAAC,aAAe,OAAOC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIrC,gBAAgB,CAACyC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,iBAAiBR,EAAIQ,GAAG,KAAKJ,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAO6C,EAAIlE,KAAY,QAAEiF,WAAW,iBAAiBT,YAAY,eAAeG,MAAM,CAAC,KAAO,OAAO,SAAWR,KAAKe,OAAOC,OAAOjD,IAAIkD,SAAS,CAAC,MAASlB,EAAIlE,KAAY,SAAG4E,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKrB,EAAIlE,KAAM,UAAW6E,EAAOQ,OAAOhE,aAAa6C,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,iBAAiBR,EAAIQ,GAAG,KAAKJ,EAAG,WAAW,CAACK,MAAM,CAAC,MAAQ,YAAY,OAAS,SAAUa,GAAU,OAAOA,EAAOtD,IAAM,QAAUgC,EAAI3D,aAAa,YAAc,iBAAiB,KAAO,UAAU,SAAW4D,KAAKe,OAAOC,OAAOjD,IAAIuD,MAAM,CAACpE,MAAO6C,EAAIlE,KAAY,QAAE0F,SAAS,SAAUC,GAAMzB,EAAIqB,KAAKrB,EAAIlE,KAAM,UAAW2F,IAAMV,WAAW,mBAAmB,GAAGf,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGL,KAAKe,OAAOC,OAAOjD,GAA4KgC,EAAI0B,KAA5KtB,EAAG,SAAS,CAACE,YAAY,kBAAkBG,MAAM,CAAC,KAAO,WAAW,CAACT,EAAIQ,GAAG,oGAA6GR,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAAEN,EAAW,QAAEI,EAAG,QAAQ,CAACE,YAAY,mCAAmC,CAACN,EAAIO,GAAG,GAAGP,EAAIQ,GAAG,KAAKJ,EAAG,QAAQJ,EAAI2B,GAAI3B,EAAIlE,KAAY,SAAE,SAAS8F,EAAOC,GAAO,OAAOzB,EAAG,KAAK,CAAClD,IAAI2E,GAAO,CAACzB,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAO1D,cAAc8B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOnG,SAASuE,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOzD,WAAW6B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOxD,uBAAuB4B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOvD,YAAY2B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOtD,kBAAkB0B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOrD,cAAcyB,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGF,EAAOpD,eAAewB,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAyB,mBAAEb,WAAW,8BAA8BT,YAAY,eAAeG,MAAM,CAAC,KAAO,SAAS,SAA0C,GAA/BmB,EAAOnD,qBAA0B,KAAO,sBAAwBoD,EAAM,aAAa,sBAAsBX,SAAS,CAAC,MAASU,EAAyB,oBAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,qBAAsBjB,EAAOQ,OAAOhE,aAAa6C,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAwB,kBAAEb,WAAW,4BAA4B,CAACtF,KAAK,WAAWqF,QAAQ,aAAa3D,MAAO,aAAeyE,EAAOxC,mBAAoB2B,WAAW,6CAA6CT,YAAY,eAAeyB,MAAM,CAAE,aAAc/B,EAAIgC,QAAQC,IAAI,qBAAuBJ,IAASpB,MAAM,CAAC,KAAO,SAAS,SAA0C,GAA/BmB,EAAOnD,qBAA0B,KAAO,qBAAuBoD,EAAM,aAAa,qBAAqBX,SAAS,CAAC,MAASU,EAAwB,mBAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,oBAAqBjB,EAAOQ,OAAOhE,WAAW6C,EAAIQ,GAAG,KAAMR,EAAIgC,QAAQC,IAAI,qBAAuBJ,GAAQzB,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACN,EAAIQ,GAAG,iDAAiDR,EAAI8B,GAAG9B,EAAIgC,QAAQE,MAAM,qBAAuBL,IAAQ,gDAAgD7B,EAAI0B,OAAO1B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAkB,YAAEb,WAAW,uBAAuBT,YAAY,eAAeG,MAAM,CAAC,KAAO,SAAS,SAA0C,GAA/BmB,EAAOlD,qBAA0B,KAAO,eAAiBmD,EAAM,aAAa,eAAeX,SAAS,CAAC,MAASU,EAAkB,aAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,cAAejB,EAAOQ,OAAOhE,aAAa6C,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAiB,WAAEb,WAAW,qBAAqB,CAACtF,KAAK,WAAWqF,QAAQ,aAAa3D,MAAO,aAAeyE,EAAOtC,YAAayB,WAAW,sCAAsCT,YAAY,eAAeyB,MAAM,CAAE,aAAc/B,EAAIgC,QAAQC,IAAI,cAAgBJ,IAASpB,MAAM,CAAC,KAAO,SAAS,SAA0C,GAA/BmB,EAAOlD,qBAA0B,KAAO,cAAgBmD,EAAM,aAAa,cAAcX,SAAS,CAAC,MAASU,EAAiB,YAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,aAAcjB,EAAOQ,OAAOhE,WAAW6C,EAAIQ,GAAG,KAAMR,EAAIgC,QAAQC,IAAI,cAAgBJ,GAAQzB,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACN,EAAIQ,GAAG,iDAAiDR,EAAI8B,GAAG9B,EAAIgC,QAAQE,MAAM,cAAgBL,IAAQ,gDAAgD7B,EAAI0B,OAAO1B,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAyB,mBAAEb,WAAW,8BAA8BT,YAAY,eAAeG,MAAM,CAAC,KAAO,SAAS,SAAuC,GAA5BmB,EAAOjD,mBAAwBuC,SAAS,CAAC,MAASU,EAAyB,oBAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,qBAAsBjB,EAAOQ,OAAOhE,aAAa6C,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAAoB,cAAEb,WAAW,yBAAyBT,YAAY,eAAeG,MAAM,CAAC,KAAO,UAAUS,SAAS,CAAC,MAASU,EAAoB,eAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,gBAAiBjB,EAAOQ,OAAOhE,aAAa6C,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACpF,KAAK,QAAQqF,QAAQ,UAAU3D,MAAOyE,EAA2B,qBAAEb,WAAW,gCAAgCT,YAAY,eAAeG,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIS,SAAS,CAAC,MAASU,EAA2B,sBAAGlB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,WAAqBpB,EAAIqB,KAAKO,EAAQ,uBAAwBjB,EAAOQ,OAAOhE,kBAAiB,KAAK6C,EAAI0B,WAAW1B,EAAIQ,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,SAAS,CAACE,YAAY,8BAA8BG,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIlB,iBAAiB,CAACkB,EAAIQ,GAAG,sBACx5M,CAAC,WAAa,IAAiBN,EAATD,KAAgBE,eAAmBC,EAAnCH,KAA0CI,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAAvIL,KAA4IO,GAAG,wBAA/IP,KAA2KO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,kBAAkB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,kBAAkBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,aAAaR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,mBAAmBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,eAAeR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,gBAAgBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,wBAAwBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,iBAAiBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,gBAAgBR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,4BAA4BR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,0BAA0BR,EAAIQ,GAAG,KAAKJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,mCDK79B,EAEb,KAEC,KAEU,MAYjB,UAAAT,EAAiB","file":"js/3.bundle.941a5d873a08f0638082.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Data Reading Input</h3>\n                            <div class=\"card-tools\"></div>\n                        </div>\n\n                        <div class=\"card-body p-2\">\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\n                                <div class=\"form-row\">\n                                    <div class=\"col col-2\">\n                                        <label>Select Date</label>\n                                        <input type=\"date\" v-model=\"form.read_at\" class=\"form-control\"\n                                            :readonly=\"this.$route.params.id\">\n                                    </div>\n                                    <div class=\"col col-2\">\n                                        <label>Select Site</label>\n                                        <v-select label=\"site_name\" :reduce=\"(option) => option.id\"\n                                            :options=\"search_sites\" placeholder=\"Select Site...\" v-model=\"form.site_id\"\n                                            name=\"site_id\" :disabled=\"this.$route.params.id\">\n                                        </v-select>\n                                    </div>\n\n\n                                    <div class=\"col  pt-4\">\n                                        <button type=\"submit\" class=\"btn btn-success\" v-if=\"!this.$route.params.id\">\n                                            Search\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n\n                        <!-- /.card-header -->\n                        <div class=\"card-body table-responsive p-0 ticketTable\">\n                            <table class=\"table table-hover table-striped\" v-if=\"Tickets\">\n                                <thead>\n                                    <tr>\n                                        <th>Current Site</th>\n                                        <th>Name</th>\n                                        <th>FAR No</th>\n                                        <th>Model</th>\n                                        <th>Regn No</th>\n                                        <th>Machine Sr No</th>\n                                        <th>Engine No</th>\n                                        <th>Chassis No</th>\n                                        <th>Starting Hourmeter</th>\n                                        <th>Closing Hourmeter</th>\n                                        <th>Starting KM</th>\n                                        <th>Closing KM</th>\n                                        <th>Daily running hours/km</th>\n                                        <th>Diesel Issued (Ltrs)</th>\n                                        <th>Machine running status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(ticket, index)  in form.reading\" :key=\"index\">\n                                        <td>{{ ticket.site_name }}</td>\n                                        <td>{{ ticket.name }}</td>\n                                        <td>{{ ticket.far_no }}</td>\n                                        <td>{{ ticket.machine_model_name }}</td>\n                                        <td>{{ ticket.regn_no }}</td>\n                                        <td>{{ ticket.machine_sr_no }}</td>\n                                        <td>{{ ticket.engine_no }}</td>\n                                        <td>{{ ticket.chassis_no }}</td>\n                                        <td> \n                                            <input type=\"number\" v-model=\"ticket.starting_hourmeter\"\n                                                class=\"form-control\" :readonly=\"ticket.is_consumtion_hr_run == 0\"\n                                                :name=\"'starting_hourmeter_' + index\" data-vv-as=\"Starting hourmeter\" />\n                                        </td>\n                                        <td> \n                                            <input type=\"number\" v-model=\"ticket.closing_hourmeter\" class=\"form-control\" \n                                                :readonly=\"ticket.is_consumtion_hr_run == 0\"\n                                                v-validate=\"'min_value:' + ticket.starting_hourmeter\"\n                                                :name=\"'closing_hourmeter_' + index\"\n                                                :class=\"{ 'is-invalid': verrors.has('closing_hourmeter_' + index) }\"\n                                                data-vv-as=\"Closing hourmeter\" />\n                                            <div v-if=\"verrors.has('closing_hourmeter_' + index)\"\n                                                class=\"help-block invalid-feedback\">\n                                                {{ verrors.first('closing_hourmeter_' + index) }}\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <input type=\"number\" v-model=\"ticket.starting_km\" class=\"form-control\"\n                                                :readonly=\"ticket.is_consumtion_km_run == 0\"\n                                                :name=\"'starting_km_' + index\" data-vv-as=\"Starting KM\">\n                                            </td>\n                                        <td>\n                                            <input type=\"number\" v-model=\"ticket.closing_km\" class=\"form-control\"\n                                                :readonly=\"ticket.is_consumtion_km_run == 0\"\n                                                v-validate=\"'min_value:' + ticket.starting_km\"\n                                                :name=\"'closing_KM_' + index\"\n                                                :class=\"{ 'is-invalid': verrors.has('closing_KM_' + index) }\"\n                                                data-vv-as=\"Closing KM\">\n                                            <div v-if=\"verrors.has('closing_KM_' + index)\"\n                                                class=\"help-block invalid-feedback\">\n                                                {{ verrors.first('closing_KM_' + index) }}\n                                            </div>\n                                        </td>\n                                        <td>\n                                            <input type=\"number\" v-model=\"ticket.daily_running_hour\"\n                                                class=\"form-control\" :readonly=\"ticket.is_production_fig == 0\">\n                                        </td>\n                                        <td>\n                                            <input type=\"number\" v-model=\"ticket.diesel_issued\" class=\"form-control\">\n                                        </td>\n                                        <td><input type=\"text\" v-model=\"ticket.condition_of_machine\"\n                                                class=\"form-control\" readonly></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <!-- /.card -->\n                </div>\n                <div class=\"col-12 pt-2 pb-2\">\n                    <button type=\"button\" class=\"btn btn-success float-right \" @click=\"submit_data()\">Submit</button>\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\nimport { MonthPicker } from 'vue-month-picker'\nimport { MonthPickerInput } from 'vue-month-picker'\n\nexport default {\n    name: \"SiteWiseExpenses\",\n    components: {\n        MonthPicker,\n        MonthPickerInput\n    },\n    data() {\n        return {\n            form: new Form({\n                site_id: '',\n                read_at: '',\n                reading: []\n            }),\n            read_at: \"\",\n            pmModalData: \"\",\n            created_users: [],\n            search_machines: [],\n            search_sites: [],\n            search_tickets: [],\n            search: {\n                read_at: \"\",\n                site_id: \"\",\n            },\n            categories: [],\n            sub_categories: [],\n            sites: [],\n            selected_machine: \"\",\n            users: [],\n            machines: [],\n            Tickets: {},\n            clearEmittedText: '',\n            default_month: '',\n            json_meta: [\n                [\n                    {\n                        key: \"charset\",\n                        value: \"utf-8\",\n                    },\n                ],\n            ],\n        };\n    },\n    methods: {\n        showClearText() {\n            this.clearEmittedText = 'emitted'\n            this.default_month = ''\n            window.setTimeout(() => {\n                this.clearEmittedText = null\n            }, 1000)\n        },\n        UpdateValues(e) {\n            this.search.tat_from = e.minValue;\n            this.search.tat_to = e.maxValue;\n        },\n\n        finishDownload() {\n            Swal.close();\n        },\n\n        getLabel(val) {\n            if (typeof val === \"object\") {\n                return val.far_no + \" - \" + val.name;\n            } else {\n                return val;\n            }\n        },\n        getResults(page = 1) {\n\n            if (this.form.read_at == \"\") {\n                Swal.fire(\"Search Date is required\");\n            } else if (this.form.site_id == \"\") {\n                Swal.fire(\"Site ID is required\");\n            } else {\n                this.$Progress.start();\n\n                axios.post(\"/api/machine_data_reading_report\", this.form)\n                    .then(res => {\n                        console.log(res.data.data);\n                        if (res.data.data == \"data_available\") {\n                            Swal.fire(\"Reading already available for the selected date and Site ID.\");\n                        } else {\n                            // this.form.reading = res.data.data\n\n                            res.data.data.forEach((readingDataItem) => {\n                                this.form.reading.push({\n                                    id: readingDataItem.id,\n                                    machine_running_status: readingDataItem.condition_of_machine,\n                                    site_name: readingDataItem.current_site.site_name,\n                                    name: readingDataItem.name,\n                                    far_no: readingDataItem.far_no,\n                                    machine_model_name: readingDataItem.machine_model.name,\n                                    regn_no: readingDataItem.regn_no,\n                                    machine_sr_no: readingDataItem.machine_sr_no,\n                                    engine_no: readingDataItem.engine_no,\n                                    chassis_no: readingDataItem.chassis_no,\n                                    is_consumtion_hr_run: readingDataItem.is_consumtion_hr,\n                                    is_consumtion_km_run: readingDataItem.is_consumtion_km_run,\n                                    is_production_fig: readingDataItem.is_production_fig,\n                                    condition_of_machine: readingDataItem.condition_of_machine,\n                                });\n                            });\n                        }\n                    })\n                    .catch(err => {\n                        console.error(err);\n                    })\n                this.$Progress.finish();\n            }\n        },\n        submit_data() {\n            this.$validator.validateAll().then(async (valid) => {\n                if (valid) {\n                    this.$Progress.start();\n                    if (this.$route.params.id) {\n                        this.form.put(\"api/reading/\" + this.$route.params.id).then((response) => {\n                            if (response.data.success == true) {\n\n                                Toast.fire({\n                                    icon: 'success',\n                                    title: 'Data updated successfully'\n                                });\n                                this.$router.push('/reading-data').catch(() => { });\n                                this.$Progress.end();\n                            } else {\n                                Toast.fire({\n                                    icon: 'warning',\n                                    title: 'Data could not get updated'\n                                });\n                            }\n                        });\n                    } else {\n                        this.form.post(\"api/reading\").then((response) => {\n                            console.log('vendor', response);\n                            if (response.data.success == true) {\n\n                                Toast.fire({\n                                    icon: 'success',\n                                    title: 'Data inserted successfully'\n                                });\n                                this.$router.push('/reading-data').catch(() => { });\n                                this.$Progress.end();\n                            } else {\n                                Toast.fire({\n                                    icon: 'warning',\n                                    title: 'Data could not get inserted'\n                                });\n                            }\n                        });\n\n                    }\n                } else {\n                    Toast.fire({\n                        icon: 'warning',\n                        title: \"Please check the validation\"\n                    });\n                }\n            });\n        },\n    },\n    mounted() {\n        if (this.$route.params.id) {\n            console.log(this.$route.params.id);\n            this.form.id = this.$route.params.id;\n            let cloaderd = this.$loading.show({\n                container: this.$refs.ref_load_user\n            });\n            axios.get(\"api/reading/\" + this.$route.params.id)\n                .then((res) => {\n                    \n                    //    this.form.fill(res.data.data)\n                    this.form.site_id = res.data.data.site_id;\n                    this.form.read_at = res.data.data.read_at;\n\n                    // Clear existing reading data\n                    this.form.reading = [];\n                    // Loop through each reading data item and push it to the form.reading array\n                    res.data.data.reading_data.forEach((readingDataItem) => {\n                        this.form.reading.push({\n                            id: readingDataItem.machine_id,\n                            starting_hourmeter: readingDataItem.starting_hourmeter,\n                            closing_hourmeter: readingDataItem.closing_hourmeter,\n                            starting_km: readingDataItem.starting_km,\n                            closing_km: readingDataItem.closing_km,\n                            daily_running_hour: readingDataItem.daily_running_hour,\n                            diesel_issued: readingDataItem.diesel_issued,\n                            machine_running_status: readingDataItem.machine_running_status,\n                            site_name: readingDataItem.machine.current_site.site_name,\n                            name: readingDataItem.machine.name,\n                            far_no: readingDataItem.machine.far_no,\n                            machine_model_name: readingDataItem.machine.far_no,\n                            regn_no: readingDataItem.machine.regn_no,\n                            machine_sr_no: readingDataItem.machine.machine_sr_no,\n                            engine_no: readingDataItem.machine.engine_no,\n                            chassis_no: readingDataItem.machine.chassis_no,\n                            is_consumtion_hr_run: readingDataItem.machine.is_consumtion_hr,\n                            is_consumtion_km_run: readingDataItem.machine.is_consumtion_km_run,\n                            is_production_fig: readingDataItem.machine.is_production_fig,\n                            condition_of_machine: readingDataItem.machine.condition_of_machine,\n                        });\n                    });\n                    cloaderd.hide();\n                })\n                .catch(() => {\n                    cloaderd.hide();\n                    this.$router.push('/reading-data/').catch(() => { });\n                })\n\n        }\n    },\n    created() {\n        //  this.getResults();\n    },\n    beforeCreate() {\n        axios.get(\"api/get_pre_machine\").then((res) => {\n            this.categories = res.data.data.Category;\n            this.sites = res.data.data.sites;\n        });\n        axios\n            .get(\"/api/initial_ticket\")\n            .then((response) => {\n                this.users = response.data.data.vendors;\n                this.machines = response.data.data.machines;\n                this.search_machines = response.data.data.machines;\n                this.search_sites = response.data.data.sites;\n                this.created_users = response.data.data.created_users;\n            })\n            .catch(() => console.warn(\"Oh. Something went wrong\"));\n    },\n    watch: {\n    },\n\n\n};\n\n\n\n\n\n</script>\n","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddEditReadingData.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddEditReadingData.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1512fbba\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddEditReadingData.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-2\"},[_c('label',[_vm._v(\"Select Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.read_at),expression:\"form.read_at\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"readonly\":this.$route.params.id},domProps:{\"value\":(_vm.form.read_at)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"read_at\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('label',[_vm._v(\"Select Site\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\",\"disabled\":this.$route.params.id},model:{value:(_vm.form.site_id),callback:function ($$v) {_vm.$set(_vm.form, \"site_id\", $$v)},expression:\"form.site_id\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col pt-4\"},[(!this.$route.params.id)?_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                                        Search\\n                                    \")]):_vm._e()])])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0 ticketTable\"},[(_vm.Tickets)?_c('table',{staticClass:\"table table-hover table-striped\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.form.reading),function(ticket,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(ticket.site_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.far_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.machine_model_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.regn_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.machine_sr_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.engine_no))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.chassis_no))]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.starting_hourmeter),expression:\"ticket.starting_hourmeter\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"readonly\":ticket.is_consumtion_hr_run == 0,\"name\":'starting_hourmeter_' + index,\"data-vv-as\":\"Starting hourmeter\"},domProps:{\"value\":(ticket.starting_hourmeter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"starting_hourmeter\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.closing_hourmeter),expression:\"ticket.closing_hourmeter\"},{name:\"validate\",rawName:\"v-validate\",value:('min_value:' + ticket.starting_hourmeter),expression:\"'min_value:' + ticket.starting_hourmeter\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('closing_hourmeter_' + index) },attrs:{\"type\":\"number\",\"readonly\":ticket.is_consumtion_hr_run == 0,\"name\":'closing_hourmeter_' + index,\"data-vv-as\":\"Closing hourmeter\"},domProps:{\"value\":(ticket.closing_hourmeter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"closing_hourmeter\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('closing_hourmeter_' + index))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\"\\n                                            \"+_vm._s(_vm.verrors.first('closing_hourmeter_' + index))+\"\\n                                        \")]):_vm._e()]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.starting_km),expression:\"ticket.starting_km\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"readonly\":ticket.is_consumtion_km_run == 0,\"name\":'starting_km_' + index,\"data-vv-as\":\"Starting KM\"},domProps:{\"value\":(ticket.starting_km)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"starting_km\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.closing_km),expression:\"ticket.closing_km\"},{name:\"validate\",rawName:\"v-validate\",value:('min_value:' + ticket.starting_km),expression:\"'min_value:' + ticket.starting_km\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.verrors.has('closing_KM_' + index) },attrs:{\"type\":\"number\",\"readonly\":ticket.is_consumtion_km_run == 0,\"name\":'closing_KM_' + index,\"data-vv-as\":\"Closing KM\"},domProps:{\"value\":(ticket.closing_km)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"closing_km\", $event.target.value)}}}),_vm._v(\" \"),(_vm.verrors.has('closing_KM_' + index))?_c('div',{staticClass:\"help-block invalid-feedback\"},[_vm._v(\"\\n                                            \"+_vm._s(_vm.verrors.first('closing_KM_' + index))+\"\\n                                        \")]):_vm._e()]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.daily_running_hour),expression:\"ticket.daily_running_hour\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"readonly\":ticket.is_production_fig == 0},domProps:{\"value\":(ticket.daily_running_hour)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"daily_running_hour\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.diesel_issued),expression:\"ticket.diesel_issued\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(ticket.diesel_issued)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"diesel_issued\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(ticket.condition_of_machine),expression:\"ticket.condition_of_machine\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(ticket.condition_of_machine)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(ticket, \"condition_of_machine\", $event.target.value)}}})])])}),0)]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-12 pt-2 pb-2\"},[_c('button',{staticClass:\"btn btn-success float-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.submit_data()}}},[_vm._v(\"Submit\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Data Reading Input\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Current Site\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"FAR No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Model\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Regn No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Machine Sr No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Engine No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Chassis No\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Starting Hourmeter\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Closing Hourmeter\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Starting KM\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Closing KM\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Daily running hours/km\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Diesel Issued (Ltrs)\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Machine running status\")])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}