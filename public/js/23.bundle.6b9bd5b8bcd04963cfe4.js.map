{"version":3,"sources":["webpack:///resources/js/components/Reading/ReadingData.vue","webpack:///./resources/js/components/Reading/ReadingData.vue","webpack:///./resources/js/components/Reading/ReadingData.vue?de9f"],"names":["name","components","MonthPicker","MonthPickerInput","data","read_at","pmModalData","created_users","search_machines","search_sites","search_tickets","search","site_id","categories","sub_categories","sites","selected_machine","users","machines","Tickets","clearEmittedText","default_month","json_meta","key","value","methods","deleteReading","console","Swal","title","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","showClearText","window","UpdateValues","finishDownload","getLabel","getResults","container","axios","then","cloaderd","catch","created","beforeCreate","get","watch","Component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","directives","rawName","expression","domProps","target","composing","$set","option","id","model","callback","$$v","_m","_l","ticket","index","_s","_f","site_name","_e"],"mappings":"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","file":"js/23.bundle.6b9bd5b8bcd04963cfe4.js","sourcesContent":["<template>\n    <section class=\"content\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"col-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header\">\n                            <h3 class=\"card-title\">Data Reading List</h3>\n                            <div class=\"card-tools\">\n                                <router-link to=\"/add-edit-reading-data\" class=\"btn btn-sm btn-primary\">\n                                    <i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i> Add New\n                                </router-link>\n                            </div>\n                        </div>\n \n                        <div class=\"card-body p-2\">\n                            <form autocomplete=\"off\" @submit.prevent=\"getResults()\">\n                                <div class=\"form-row\">\n                                     <div class=\"col col-2\">\n                                        <label>Select Date</label>\n                                        <input type=\"date\"  v-model=\"search.read_at\" class=\"form-control\">\n                                    </div>\n                                    <div class=\"col col-2\">\n                                        <label>Select Site</label>\n                                        <v-select  label=\"site_name\" :reduce=\"(option) => option.id\" :options=\"search_sites\"\n                                            placeholder=\"Select Site...\" v-model=\"search.site_id\" name=\"site_id\">\n                                        </v-select>\n                                    </div>\n \n \n                                    <div class=\"col  pt-4\">\n                                        <button type=\"submit\" class=\"btn btn-success\">\n                                            Search\n                                        </button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n \n                        <!-- /.card-header -->\n                        <div class=\"card-body table-responsive p-0 ticketTable\">\n                            <table class=\"table table-hover table-striped\"  v-if=\"Tickets\">\n                                <thead>\n                                    <tr>\n                                        <th>Read At</th>\n                                        <th>Site</th>\n                                        <th>Operation</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(ticket, index)  in Tickets\" :key=\"index\">\n                                        <td>{{ ticket.read_at | myDate }}</td>\n                                        <td>{{ ticket.sites.site_name }}</td>\n                                        <td>\n                                            <router-link :to=\"'/add-edit-reading-data/' + ticket.id\" class=\"btn btn-sm btn-primary\">\n                                                Edit\n                                            </router-link>\n                                            <a href=\"javascript:void(0);\" @click=\"deleteReading(ticket)\" class=\"btn btn-danger btn-sm\">\n                                                Delete\n                                            </a>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <!-- /.card -->\n                </div>\n            </div>\n        </div>\n    </section>\n </template>\n \n <script>\n import { MonthPicker } from 'vue-month-picker'\n import { MonthPickerInput } from 'vue-month-picker'\n export default {\n    name: \"SiteWiseExpenses\",\n    components: {\n        MonthPicker,\n        MonthPickerInput\n    },\n    data() {\n        return {\n             read_at: \"\",\n            pmModalData: \"\",\n            created_users: [],\n            search_machines: [],\n            search_sites: [],\n            search_tickets:[],\n            search: {\n                read_at: \"\",\n                site_id: \"\",\n            },\n            categories: [],\n            sub_categories: [],\n            sites: [],\n            selected_machine: \"\",\n            users: [],\n            machines: [],\n            Tickets: {},\n            clearEmittedText: '',\n            default_month: '',\n            json_meta: [\n                [\n                    {\n                        key: \"charset\",\n                        value: \"utf-8\",\n                    },\n                ],\n            ],\n        };\n    },\n    methods: {\n        deleteReading(reading){\n            console.log(reading);\n            Swal.fire({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                showCancelButton: true,\n                confirmButtonColor: '#d33',\n                cancelButtonColor: '#3085d6',\n                confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n\n                // Send request to the server\n                if (result.value) {\n                    this.axios.delete('api/reading/' + reading.id).then(() => {\n                        Swal.fire(\n                            'Deleted!',\n                            'Your file has been deleted.',\n                            'success'\n                        );\n                        // Fire.$emit('AfterCreate');\n                        this.getResults();\n                    }).catch((data) => {\n                        Swal.fire(\"Failed!\", data.message, \"warning\");\n                    });\n                }\n            })\n        },\n        showClearText() {\n            this.clearEmittedText = 'emitted'\n            this.default_month = ''\n            window.setTimeout(() => {\n                this.clearEmittedText = null\n            }, 1000)\n        },\n        UpdateValues(e) {\n            this.search.tat_from = e.minValue;\n            this.search.tat_to = e.maxValue;\n        },\n        \n        finishDownload() {\n            Swal.close();\n        },\n \n        getLabel(val) {\n            if (typeof val === \"object\") {\n                return val.far_no + \" - \" + val.name;\n            } else {\n                return val;\n            }\n        },\n        getResults(page = 1) {\n\n            let cloaderd = this.$loading.show({\n                container: this.$refs.ref_load_user\n            });\n            this.search.page = page;\n            axios.get(\"/api/reading\", this.search)\n            .then(res => {\n                console.log(res.data.data);\n                this.Tickets = res.data.data;\n                cloaderd.hide();\n            })\n            .catch(err => {\n                console.error(err);\n                cloaderd.hide();\n            })\n            \n        },\n    },\n    created() {\n        this.getResults();\n    },\n    beforeCreate() {\n        axios.get(\"api/get_pre_machine\").then((res) => {\n            this.categories = res.data.data.Category;\n            this.sites = res.data.data.sites;\n        });\n        axios\n            .get(\"/api/initial_ticket\")\n            .then((response) => {\n                this.users = response.data.data.vendors;\n                this.machines = response.data.data.machines;\n                this.search_machines = response.data.data.machines;\n                this.search_sites = response.data.data.sites;\n                this.created_users = response.data.data.created_users;\n            })\n            .catch(() => console.warn(\"Oh. Something went wrong\"));\n    },\n    watch: {\n    },\n \n \n };\n \n </script>\n ","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReadingData.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReadingData.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-875c94fc\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ReadingData.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"card-title\"},[_vm._v(\"Data Reading List\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-tools\"},[_c('router-link',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"to\":\"/add-edit-reading-data\"}},[_c('i',{staticClass:\"fa fa-plus-square\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Add New\\n                            \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"card-body p-2\"},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.getResults()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col col-2\"},[_c('label',[_vm._v(\"Select Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search.read_at),expression:\"search.read_at\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.search.read_at)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.search, \"read_at\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_c('label',[_vm._v(\"Select Site\")]),_vm._v(\" \"),_c('v-select',{attrs:{\"label\":\"site_name\",\"reduce\":function (option) { return option.id; },\"options\":_vm.search_sites,\"placeholder\":\"Select Site...\",\"name\":\"site_id\"},model:{value:(_vm.search.site_id),callback:function ($$v) {_vm.$set(_vm.search, \"site_id\", $$v)},expression:\"search.site_id\"}})],1),_vm._v(\" \"),_vm._m(0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body table-responsive p-0 ticketTable\"},[(_vm.Tickets)?_c('table',{staticClass:\"table table-hover table-striped\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.Tickets),function(ticket,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(_vm._f(\"myDate\")(ticket.read_at)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(ticket.sites.site_name))]),_vm._v(\" \"),_c('td',[_c('router-link',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"to\":'/add-edit-reading-data/' + ticket.id}},[_vm._v(\"\\n                                            Edit\\n                                        \")]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.deleteReading(ticket)}}},[_vm._v(\"\\n                                            Delete\\n                                        \")])],1)])}),0)]):_vm._e()])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col pt-4\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\"\\n                                        Search\\n                                    \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Read At\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Site\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Operation\")])])])}]\nexport { render, staticRenderFns }"],"sourceRoot":""}